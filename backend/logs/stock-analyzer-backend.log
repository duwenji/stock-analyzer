2025-07-27 11:34:31,248 - utils - INFO - [api.py:<module>:47] - CORSミドルウェアが設定されました: すべてのオリジンを許可
2025-07-27 11:35:03,503 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=3&limit=20
2025-07-27 11:35:03,504 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:35:03,521 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:35:03,526 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 40
        
2025-07-27 11:35:03,601 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                                             name                        industry golden_cross dead_cross      rsi    macd signal_line
count       20                                               20                              20           20         20       20      20          20
unique      20                                               20                              11            1          2       20      20          20
top     381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)  Internet Content & Information        False      False  71.3043  8.2518      6.2154
freq         1                                                1                               4           20         19        1       1           1
2025-07-27 11:35:03,608 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                             name                                  industry  ...      rsi       macd signal_line
0   381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)                                            ...  71.3043     8.2518      6.2154
1   3922.T                             PR TIMES Corporation            Internet Content & Information  ...  83.4371   160.0002    126.9985
2   3961.T                  Silver Egg Technology Co., Ltd.            Internet Content & Information  ...  57.8947    -0.3663     -0.9292
3   3992.T                                  Needs Well Inc.                 Software - Infrastructure  ...  87.7551     4.2646     -2.7752
4   4170.T                            Kaizen Platform, Inc.                      Advertising Agencies  ...  66.1017     4.4737      4.4955
5   4178.T                         Sharing Innovations Inc.                 Software - Infrastructure  ...  58.7156     2.7750      3.3226
6   4246.T                      DaikyoNishikawa Corporation                                Auto Parts  ...  72.8070    17.3490     14.0597
7   4264.T                                     Secure, Inc.            Security & Protection Services  ...  67.7656    -9.1282    -20.5591
8   4274.T                Hosoya Pyro-Engineering Co., Ltd.                                 Chemicals  ...  56.8627    -3.9401     -5.0663
9   4324.T                                Dentsu Group Inc.                      Advertising Agencies  ...  46.3340   -23.8547    -31.3325
10  4436.T                       MINKABU THE INFONOID, Inc.            Internet Content & Information  ...  48.1132    -3.8650     -3.5246
11  4534.T                 Mochida Pharmaceutical Co., Ltd.  Drug Manufacturers - Specialty & Generic  ...  71.7514    20.1065      3.3129
12  4597.T                              Solasia Pharma K.K.  Drug Manufacturers - Specialty & Generic  ...  64.0000     2.4116      2.2183
13  5015.T                                  BP Castrol K.K.            Oil & Gas Refining & Marketing  ...  61.9048    -0.3506      0.1927
14  5071.T                                    VIS Co., Ltd.               Specialty Business Services  ...  72.7273    11.1304      7.5649
15  5132.T                                   pluszero, Inc.                 Software - Infrastructure  ...  50.7530   -63.8709    -52.9713
16  5189.T                          Sakura Rubber Co., Ltd.                                Auto Parts  ...  69.6721    21.3983     19.2826
17  5252.T                          Nihon Knowledge Co,Ltd.                    Software - Application  ...  54.1096     3.1222      4.9428
18  5571.T                        Excite Holdings Co., Ltd.                    Software - Application  ...  69.4030    27.5542     23.2936
19  6026.T                                   GMO TECH, Inc.            Internet Content & Information  ...  51.2000  -175.1311   -193.6701

[20 rows x 8 columns]
2025-07-27 11:35:03,609 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 3/6)
2025-07-27 11:35:03,609 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:35:50,777 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 11:35:50,777 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:35:50,789 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:35:50,792 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 11:35:50,862 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 11:35:50,866 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name                       industry  golden_cross  dead_cross      rsi       macd signal_line
0   1301.T                                  Kyokuyo Co., Ltd.                 Packaged Foods         False       False  66.9231    50.4712     38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)                                        False       False  68.8643    38.4821     24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund                                        False       False  66.8538    38.5558     24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX                                        False       False  65.4765    38.5959     25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...                                        False       False  69.1076   767.4815    676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ                  Biotechnology         False       False  61.9529     0.2772     -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund                                        False       False  70.3842    21.5434     11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund                                        False       False  71.3029     6.6639      4.4082
8   131A.T                                            ＣＣＮグループ                                        False       False      NaN     0.0363      0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)                                        False       False  67.7833   658.8843    514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225                                        False       False  65.9800   671.1416    527.7553
11  148A.T                                            ハッチ・ワーク    Specialty Business Services         False       False  63.9759    42.5622     31.8332
12  150A.T                                                ＪＳＨ                  Conglomerates         False       False  44.2105   -11.2916    -12.3952
13  1566.T                    Listed Index Fund Emerging Bond                                        False       False  73.2020   440.1158    455.4455
14  1573.T                           China Bear -1x HSCEI ETF                                        False       False  34.5133   -91.4731    -55.2384
15  1757.T                               Souken Ace Co., Ltd.      Real Estate - Development         False       False  60.0000    -1.5323     -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)                                        False       False  51.6710     2.9299      2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.     Engineering & Construction         False       False  66.2791    99.5051    109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  Building Products & Equipment         False       False  81.0811   215.8824    187.8402
19  2160.T                                     GNI Group Ltd.                  Biotechnology         False       False  24.2511  -137.5830   -111.6464
2025-07-27 11:35:50,866 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 11:35:50,866 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:36:30,539 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=3&limit=20
2025-07-27 11:36:30,539 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:36:30,561 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:36:30,563 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 40
        
2025-07-27 11:36:30,626 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                                             name                        industry golden_cross dead_cross      rsi    macd signal_line
count       20                                               20                              20           20         20       20      20          20
unique      20                                               20                              11            1          2       20      20          20
top     381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)  Internet Content & Information        False      False  71.3043  8.2518      6.2154
freq         1                                                1                               4           20         19        1       1           1
2025-07-27 11:36:30,630 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                             name                                  industry  ...      rsi       macd signal_line
0   381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)                                            ...  71.3043     8.2518      6.2154
1   3922.T                             PR TIMES Corporation            Internet Content & Information  ...  83.4371   160.0002    126.9985
2   3961.T                  Silver Egg Technology Co., Ltd.            Internet Content & Information  ...  57.8947    -0.3663     -0.9292
3   3992.T                                  Needs Well Inc.                 Software - Infrastructure  ...  87.7551     4.2646     -2.7752
4   4170.T                            Kaizen Platform, Inc.                      Advertising Agencies  ...  66.1017     4.4737      4.4955
5   4178.T                         Sharing Innovations Inc.                 Software - Infrastructure  ...  58.7156     2.7750      3.3226
6   4246.T                      DaikyoNishikawa Corporation                                Auto Parts  ...  72.8070    17.3490     14.0597
7   4264.T                                     Secure, Inc.            Security & Protection Services  ...  67.7656    -9.1282    -20.5591
8   4274.T                Hosoya Pyro-Engineering Co., Ltd.                                 Chemicals  ...  56.8627    -3.9401     -5.0663
9   4324.T                                Dentsu Group Inc.                      Advertising Agencies  ...  46.3340   -23.8547    -31.3325
10  4436.T                       MINKABU THE INFONOID, Inc.            Internet Content & Information  ...  48.1132    -3.8650     -3.5246
11  4534.T                 Mochida Pharmaceutical Co., Ltd.  Drug Manufacturers - Specialty & Generic  ...  71.7514    20.1065      3.3129
12  4597.T                              Solasia Pharma K.K.  Drug Manufacturers - Specialty & Generic  ...  64.0000     2.4116      2.2183
13  5015.T                                  BP Castrol K.K.            Oil & Gas Refining & Marketing  ...  61.9048    -0.3506      0.1927
14  5071.T                                    VIS Co., Ltd.               Specialty Business Services  ...  72.7273    11.1304      7.5649
15  5132.T                                   pluszero, Inc.                 Software - Infrastructure  ...  50.7530   -63.8709    -52.9713
16  5189.T                          Sakura Rubber Co., Ltd.                                Auto Parts  ...  69.6721    21.3983     19.2826
17  5252.T                          Nihon Knowledge Co,Ltd.                    Software - Application  ...  54.1096     3.1222      4.9428
18  5571.T                        Excite Holdings Co., Ltd.                    Software - Application  ...  69.4030    27.5542     23.2936
19  6026.T                                   GMO TECH, Inc.            Internet Content & Information  ...  51.2000  -175.1311   -193.6701

[20 rows x 8 columns]
2025-07-27 11:36:30,631 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 3/6)
2025-07-27 11:36:30,631 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:36:34,692 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/4178.T
2025-07-27 11:36:34,692 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:36:34,717 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:42:24,853 - utils - INFO - [api.py:<module>:47] - CORSミドルウェアが設定されました: すべてのオリジンを許可
2025-07-27 11:42:33,762 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 11:42:33,763 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:42:33,787 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:42:33,790 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 11:42:33,861 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 11:42:33,865 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name                       industry  ...      rsi       macd signal_line
0   1301.T                                  Kyokuyo Co., Ltd.                 Packaged Foods  ...  66.9231    50.4712     38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)                                 ...  68.8643    38.4821     24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund                                 ...  66.8538    38.5558     24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX                                 ...  65.4765    38.5959     25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...                                 ...  69.1076   767.4815    676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ                  Biotechnology  ...  61.9529     0.2772     -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund                                 ...  70.3842    21.5434     11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund                                 ...  71.3029     6.6639      4.4082
8   131A.T                                            ＣＣＮグループ                                 ...      NaN     0.0363      0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)                                 ...  67.7833   658.8843    514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225                                 ...  65.9800   671.1416    527.7553
11  148A.T                                            ハッチ・ワーク    Specialty Business Services  ...  63.9759    42.5622     31.8332
12  150A.T                                                ＪＳＨ                  Conglomerates  ...  44.2105   -11.2916    -12.3952
13  1566.T                    Listed Index Fund Emerging Bond                                 ...  73.2020   440.1158    455.4455
14  1573.T                           China Bear -1x HSCEI ETF                                 ...  34.5133   -91.4731    -55.2384
15  1757.T                               Souken Ace Co., Ltd.      Real Estate - Development  ...  60.0000    -1.5323     -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)                                 ...  51.6710     2.9299      2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.     Engineering & Construction  ...  66.2791    99.5051    109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  Building Products & Equipment  ...  81.0811   215.8824    187.8402
19  2160.T                                     GNI Group Ltd.                  Biotechnology  ...  24.2511  -137.5830   -111.6464

[20 rows x 8 columns]
2025-07-27 11:42:33,866 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 11:42:33,866 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:42:33,869 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 11:42:33,869 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:42:33,878 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:42:33,880 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 11:42:33,946 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 11:42:33,951 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name                       industry  ...      rsi       macd signal_line
0   1301.T                                  Kyokuyo Co., Ltd.                 Packaged Foods  ...  66.9231    50.4712     38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)                                 ...  68.8643    38.4821     24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund                                 ...  66.8538    38.5558     24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX                                 ...  65.4765    38.5959     25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...                                 ...  69.1076   767.4815    676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ                  Biotechnology  ...  61.9529     0.2772     -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund                                 ...  70.3842    21.5434     11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund                                 ...  71.3029     6.6639      4.4082
8   131A.T                                            ＣＣＮグループ                                 ...      NaN     0.0363      0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)                                 ...  67.7833   658.8843    514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225                                 ...  65.9800   671.1416    527.7553
11  148A.T                                            ハッチ・ワーク    Specialty Business Services  ...  63.9759    42.5622     31.8332
12  150A.T                                                ＪＳＨ                  Conglomerates  ...  44.2105   -11.2916    -12.3952
13  1566.T                    Listed Index Fund Emerging Bond                                 ...  73.2020   440.1158    455.4455
14  1573.T                           China Bear -1x HSCEI ETF                                 ...  34.5133   -91.4731    -55.2384
15  1757.T                               Souken Ace Co., Ltd.      Real Estate - Development  ...  60.0000    -1.5323     -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)                                 ...  51.6710     2.9299      2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.     Engineering & Construction  ...  66.2791    99.5051    109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  Building Products & Equipment  ...  81.0811   215.8824    187.8402
19  2160.T                                     GNI Group Ltd.                  Biotechnology  ...  24.2511  -137.5830   -111.6464

[20 rows x 8 columns]
2025-07-27 11:42:33,952 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 11:42:33,952 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:42:40,773 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=2&limit=20
2025-07-27 11:42:40,773 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:42:40,799 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:42:40,802 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 20
        
2025-07-27 11:42:40,868 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                           name industry golden_cross dead_cross      rsi    macd signal_line
count       20                             20       20           20         20       19      20          20
unique      20                             20       16            1          2       19      20          20
top     2340.T  Gokurakuyu Holdings Co., Ltd.                 False      False  61.5385  0.1706     -0.1829
freq         1                              1        4           20         19        1       1           1
2025-07-27 11:42:40,874 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name                         industry  ...      rsi      macd signal_line
0   2340.T                      Gokurakuyu Holdings Co., Ltd.                          Leisure  ...  61.5385    0.1706     -0.1829
1   2503.T                    Kirin Holdings Company, Limited              Beverages - Brewers  ...  43.8692   -6.9434     -9.2594
2   2516.T                                 TSE Growth 250 ETF                                   ...  71.0388    3.7515      1.7417
3   2557.T                                    SMDAM TOPIX ETF                                   ...  71.6724   37.0464     23.9367
4   2816.T                                    Daisho Co.,Ltd.                Food Distribution  ...  61.1111    0.4406     -0.0749
5   2839.T  MAXIS US Treasury Bond 7-10 Year ETF (JPY Hedged)                                   ...  43.7086   -1.1649     -0.3133
6   2857.T     iShares Germany Government Bond JPY Hedged ETF                                   ...  33.5247   -1.2154     -1.1743
7   3048.T                                    Bic Camera Inc.                 Specialty Retail  ...  33.0116    3.5538     15.7441
8   3169.T                                  Misawa & Co.,Ltd.                Department Stores  ...  26.6667   -1.8368     -1.7610
9   317A.T                                    エス・エム・エス・データテック  Information Technology Services  ...      NaN    0.0000      0.0000
10  3224.T                               General Oyster, Inc.                      Restaurants  ...  39.0244   -9.1712    -10.3285
11  3299.T                              MUGEN ESTATE Co.,Ltd.        Real Estate - Development  ...  52.7897  -19.5895    -23.7337
12  3377.T                              BIKE O & COMPANY Ltd.         Auto & Truck Dealerships  ...  28.5714   -1.4627     -0.8264
13  3611.T                               Matsuoka Corporation            Apparel Manufacturing  ...  61.9048    4.5984      3.5850
14  3645.T                                  Medical Net, Inc.   Internet Content & Information  ...  60.3448    1.7854      0.3603
15  3662.T                           Ateam Holdings Co., Ltd.   Internet Content & Information  ...  75.8865   33.2175     31.7577
16  3719.T                                 AI storm Co., Ltd.              Consulting Services  ...  60.2740   -1.5483     -2.4149
17  3726.T                                   4Cs HD Co., Ltd.                  Internet Retail  ...  46.4164  -23.4266    -12.7629
18  3787.T                      Techno Mathematical Co., Ltd.           Software - Application  ...  65.2850   10.7319      3.3857
19  3791.T                                      IG Port, Inc.                    Entertainment  ...  42.3540  -88.2178    -73.6805

[20 rows x 8 columns]
2025-07-27 11:42:40,874 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 2/6)
2025-07-27 11:42:40,874 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:42:43,645 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=6&limit=20
2025-07-27 11:42:43,646 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:42:43,668 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:42:43,671 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 100
        
2025-07-27 11:42:43,741 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                       name       industry golden_cross dead_cross      rsi    macd signal_line
count       10                         10             10           10         10       10      10          10
unique      10                         10             10            1          1       10      10          10
top     9249.T  Japan Ecosystem Co., Ltd.  Entertainment        False      False  64.0625  0.1078     -0.9105
freq         1                          1              1           10         10        1       1           1
2025-07-27 11:42:43,746 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
   symbol                                               name                        industry  ...      rsi       macd signal_line
0  9249.T                          Japan Ecosystem Co., Ltd.                   Entertainment  ...  64.0625     0.1078     -0.9105
1  9286.T  Enex Infrastructure Investment Corporation - I...                REIT - Specialty  ...  61.8182   292.0191    262.8811
2  9337.T                                      toridori Inc.          Software - Application  ...  63.2267    33.5025     27.0068
3  9433.T                                   KDDI Corporation                Telecom Services  ...  52.5151     6.4506     -1.1789
4  9536.T                        Saibu Gas Holdings Co.,Ltd.       Utilities - Regulated Gas  ...  71.0784    18.8185     10.7152
5  9766.T                           Konami Group Corporation  Electronic Gaming & Multimedia  ...  44.6125  -156.3623   -117.2003
6  9791.T                           Biken Techno Corporation     Specialty Business Services  ...  30.4348    -7.7922     -6.0071
7  9857.T                                   Eiwa Corporation    Electrical Equipment & Parts  ...  32.0930    14.2204     25.4591
8  9994.T                                 Yamaya Corporation             Beverages - Brewers  ...  71.0335    17.5466    -20.2133
9  9997.T                                  Belluna Co., Ltd.                Specialty Retail  ...  75.5102    20.9967     19.1180

[10 rows x 8 columns]
2025-07-27 11:42:43,746 - utils - INFO - [api.py:get_stocks:123] - 10件の銘柄データを取得しました (ページ 6/6)
2025-07-27 11:42:43,747 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:42:46,571 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=4&limit=20
2025-07-27 11:42:46,571 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:42:46,595 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:42:46,597 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 60
        
2025-07-27 11:42:46,664 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol       name                        industry golden_cross dead_cross      rsi    macd signal_line
count       20         20                              20           19         19       19      19          19
unique      20         20                              13            1          1       19      19          19
top     6071.T  IBJ, Inc.  Specialty Industrial Machinery        False      False  49.0000  6.7540     11.0175
freq         1          1                               5           19         19        1       1           1
2025-07-27 11:42:46,669 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                             name                        industry golden_cross dead_cross      rsi      macd signal_line
0   6071.T                        IBJ, Inc.               Personal Services        False      False  49.0000    6.7540     11.0175
1   6089.T                 Will Group, Inc.  Staffing & Employment Services        False      False  74.5455    8.0694      5.3278
2   6093.T         Escrow Agent Japan, Inc.     Specialty Business Services        False      False  47.0588   -1.2395     -1.4088
3   6159.T       Micron Machinery Co., Ltd.  Specialty Industrial Machinery        False      False  20.0000  -22.8371      7.0629
4   6203.T             Howa Machinery, Ltd.  Specialty Industrial Machinery        False      False  58.9928   -7.6295    -13.0974
5   6231.T            KIMURA KOHKI Co.,Ltd.    Electrical Equipment & Parts        False      False  47.3684   54.3625    119.4401
6   6237.T                  Iwaki Co., Ltd.  Specialty Industrial Machinery        False      False  88.4685   83.3002     49.1727
7   6336.T            Ishii Hyoki Co., Ltd.  Specialty Industrial Machinery        False      False  53.5714    9.4195     11.2675
8   6433.T               HEPHAIST Co., Ltd.               Metal Fabrication        False      False  78.3784    9.3570      8.3144
9   6444.T               Sanden Corporation                      Auto Parts        False      False  55.5556   -0.2615     -0.5164
10  6471.T                         NSK Ltd.                      Auto Parts        False      False  60.1695   14.1059     12.9208
11  6576.T                Youkosha Co.,Ltd.                                         None       None     None      None        None
12  6752.T   Panasonic Holdings Corporation            Consumer Electronics        False      False  40.5063  -18.8727    -25.2248
13  6753.T                Sharp Corporation            Consumer Electronics        False      False  48.3557   -7.8857    -13.0111
14  6787.T      Meiko Electronics Co., Ltd.           Electronic Components        False      False  59.2593  166.1699    152.6170
15  6788.T             Nihon Trim Co., Ltd.  Pollution & Treatment Controls        False      False  63.0435   79.3383     88.4493
16  6969.T         Matsuo Electric Co.,Ltd.           Electronic Components        False      False  51.0791   18.9898     25.2816
17  7012.T  Kawasaki Heavy Industries, Ltd.  Specialty Industrial Machinery        False      False  69.6954  105.7503     46.5619
18  7187.T                 J-Lease Co.,Ltd.            Real Estate Services        False      False  60.8563   19.1516     20.5539
19  7203.T         Toyota Motor Corporation              Auto Manufacturers        False      False  74.3755   47.2065      4.3285
2025-07-27 11:42:46,670 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 4/6)
2025-07-27 11:42:46,670 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:42:50,166 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/6336.T
2025-07-27 11:42:50,166 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:42:50,190 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:42:53,305 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/6336.T
2025-07-27 11:42:53,306 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:42:53,331 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:42:57,762 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/6576.T
2025-07-27 11:42:57,762 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:42:57,796 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:42:57,800 - utils - ERROR - [api.py:get_chart:199] - チャート生成エラー: 'date'
Traceback (most recent call last):
  File "C:\Dev\stock-analyzer\backend\api.py", line 172, in get_chart
    df['date'] = pd.to_datetime(df['date'])
                                ~~^^^^^^^^
  File "C:\Dev\stock-analyzer\venv\Lib\site-packages\pandas\core\frame.py", line 4107, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Dev\stock-analyzer\venv\Lib\site-packages\pandas\core\indexes\range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'date'
2025-07-27 11:47:24,196 - utils - INFO - [api.py:<module>:47] - CORSミドルウェアが設定されました: すべてのオリジンを許可
2025-07-27 11:48:08,491 - utils - INFO - [api.py:<module>:47] - CORSミドルウェアが設定されました: すべてのオリジンを許可
2025-07-27 11:48:15,702 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 11:48:15,702 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:48:15,729 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:48:15,732 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 11:48:15,811 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 11:48:15,819 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name                       industry  ...      rsi       macd signal_line
0   1301.T                                  Kyokuyo Co., Ltd.                 Packaged Foods  ...  66.9231    50.4712     38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)                                 ...  68.8643    38.4821     24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund                                 ...  66.8538    38.5558     24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX                                 ...  65.4765    38.5959     25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...                                 ...  69.1076   767.4815    676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ                  Biotechnology  ...  61.9529     0.2772     -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund                                 ...  70.3842    21.5434     11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund                                 ...  71.3029     6.6639      4.4082
8   131A.T                                            ＣＣＮグループ                                 ...      NaN     0.0363      0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)                                 ...  67.7833   658.8843    514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225                                 ...  65.9800   671.1416    527.7553
11  148A.T                                            ハッチ・ワーク    Specialty Business Services  ...  63.9759    42.5622     31.8332
12  150A.T                                                ＪＳＨ                  Conglomerates  ...  44.2105   -11.2916    -12.3952
13  1566.T                    Listed Index Fund Emerging Bond                                 ...  73.2020   440.1158    455.4455
14  1573.T                           China Bear -1x HSCEI ETF                                 ...  34.5133   -91.4731    -55.2384
15  1757.T                               Souken Ace Co., Ltd.      Real Estate - Development  ...  60.0000    -1.5323     -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)                                 ...  51.6710     2.9299      2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.     Engineering & Construction  ...  66.2791    99.5051    109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  Building Products & Equipment  ...  81.0811   215.8824    187.8402
19  2160.T                                     GNI Group Ltd.                  Biotechnology  ...  24.2511  -137.5830   -111.6464

[20 rows x 8 columns]
2025-07-27 11:48:15,820 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 11:48:15,820 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:48:15,823 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 11:48:15,823 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:48:15,862 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:48:15,865 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 11:48:15,933 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 11:48:15,939 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name                       industry  ...      rsi       macd signal_line
0   1301.T                                  Kyokuyo Co., Ltd.                 Packaged Foods  ...  66.9231    50.4712     38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)                                 ...  68.8643    38.4821     24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund                                 ...  66.8538    38.5558     24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX                                 ...  65.4765    38.5959     25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...                                 ...  69.1076   767.4815    676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ                  Biotechnology  ...  61.9529     0.2772     -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund                                 ...  70.3842    21.5434     11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund                                 ...  71.3029     6.6639      4.4082
8   131A.T                                            ＣＣＮグループ                                 ...      NaN     0.0363      0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)                                 ...  67.7833   658.8843    514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225                                 ...  65.9800   671.1416    527.7553
11  148A.T                                            ハッチ・ワーク    Specialty Business Services  ...  63.9759    42.5622     31.8332
12  150A.T                                                ＪＳＨ                  Conglomerates  ...  44.2105   -11.2916    -12.3952
13  1566.T                    Listed Index Fund Emerging Bond                                 ...  73.2020   440.1158    455.4455
14  1573.T                           China Bear -1x HSCEI ETF                                 ...  34.5133   -91.4731    -55.2384
15  1757.T                               Souken Ace Co., Ltd.      Real Estate - Development  ...  60.0000    -1.5323     -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)                                 ...  51.6710     2.9299      2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.     Engineering & Construction  ...  66.2791    99.5051    109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  Building Products & Equipment  ...  81.0811   215.8824    187.8402
19  2160.T                                     GNI Group Ltd.                  Biotechnology  ...  24.2511  -137.5830   -111.6464

[20 rows x 8 columns]
2025-07-27 11:48:15,939 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 11:48:15,939 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:48:19,682 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1330.T
2025-07-27 11:48:19,682 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:48:19,714 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:48:19,733 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  27319.266  27343.055  26976.703  27133.710   19620
1   2022-07-28 15:00:00+00:00  27252.656  27324.023  27062.344  27124.195   30470
2   2022-07-31 15:00:00+00:00  27128.953  27304.992  27086.133  27300.234   22000
3   2022-08-01 15:00:00+00:00  27143.227  27167.016  26862.516  26929.125   30400
4   2022-08-02 15:00:00+00:00  27048.070  27157.500  26967.188  27071.860   14720
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  41420.000  41420.000  41000.000  41110.000   36263
730 2025-07-21 15:00:00+00:00  41090.000  41550.000  40840.000  41030.000   38550
731 2025-07-22 15:00:00+00:00  41670.000  42650.000  41540.000  42540.000  133524
732 2025-07-23 15:00:00+00:00  43050.000  43410.000  42930.000  43150.000   53979
733 2025-07-24 15:00:00+00:00  42990.000  43050.000  42710.000  42740.000   26749

[734 rows x 6 columns]
2025-07-27 11:48:25,462 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/150A.T
2025-07-27 11:48:25,462 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:48:25,473 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:48:25,490 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date   open    high    low  close   volume
0   2024-03-25 15:00:00+00:00  893.0  1008.0  798.0  806.0  5227400
1   2024-03-26 15:00:00+00:00  806.0   874.0  710.0  777.0  2398300
2   2024-03-27 15:00:00+00:00  777.0   853.0  711.0  752.0   719800
3   2024-03-28 15:00:00+00:00  738.0   738.0  713.0  715.0   111700
4   2024-03-31 15:00:00+00:00  697.0   714.0  593.0  593.0   304000
..                        ...    ...     ...    ...    ...      ...
323 2025-07-17 15:00:00+00:00  455.0   457.0  443.0  452.0     8100
324 2025-07-21 15:00:00+00:00  452.0   452.0  426.0  431.0    19100
325 2025-07-22 15:00:00+00:00  431.0   433.0  421.0  428.0    13500
326 2025-07-23 15:00:00+00:00  428.0   441.0  422.0  436.0    10100
327 2025-07-24 15:00:00+00:00  439.0   439.0  431.0  436.0     4600

[328 rows x 6 columns]
2025-07-27 11:48:26,323 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/148A.T
2025-07-27 11:48:26,323 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:48:26,337 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:48:26,352 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date    open    high     low   close   volume
0   2024-03-25 15:00:00+00:00  2815.0  3315.0  2781.0  3315.0  2713000
1   2024-03-26 15:00:00+00:00  3805.0  4015.0  2891.0  2919.0  3857400
2   2024-03-27 15:00:00+00:00  2960.0  3020.0  2525.0  2567.0   502800
3   2024-03-28 15:00:00+00:00  2617.0  2727.0  2431.0  2440.0   171100
4   2024-03-31 15:00:00+00:00  2523.0  2637.0  2426.0  2637.0   115400
..                        ...     ...     ...     ...     ...      ...
323 2025-07-17 15:00:00+00:00  2295.0  2297.0  2208.0  2208.0    12400
324 2025-07-21 15:00:00+00:00  2230.0  2231.0  2126.0  2224.0    13400
325 2025-07-22 15:00:00+00:00  2244.0  2296.0  2196.0  2282.0    16000
326 2025-07-23 15:00:00+00:00  2298.0  2441.0  2280.0  2428.0    32000
327 2025-07-24 15:00:00+00:00  2403.0  2417.0  2367.0  2367.0     6600

[328 rows x 6 columns]
2025-07-27 11:48:28,140 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/2160.T
2025-07-27 11:48:28,141 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:48:28,171 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:48:28,192 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date    open    high     low   close   volume
0   2022-07-27 15:00:00+00:00  1745.0  1786.0  1708.0  1775.0  1510100
1   2022-07-28 15:00:00+00:00  1792.0  1893.0  1779.0  1863.0  2070400
2   2022-07-31 15:00:00+00:00  1850.0  1859.0  1748.0  1788.0  1500200
3   2022-08-01 15:00:00+00:00  1735.0  1826.0  1734.0  1782.0  1191800
4   2022-08-02 15:00:00+00:00  1820.0  1867.0  1807.0  1825.0  1192100
..                        ...     ...     ...     ...     ...      ...
729 2025-07-17 15:00:00+00:00  3100.0  3120.0  3015.0  3045.0   852000
730 2025-07-21 15:00:00+00:00  3030.0  3055.0  3005.0  3020.0   467600
731 2025-07-22 15:00:00+00:00  3060.0  3125.0  3040.0  3075.0   644900
732 2025-07-23 15:00:00+00:00  2990.0  3135.0  2817.0  2866.0  5644600
733 2025-07-24 15:00:00+00:00  2761.0  2775.0  2685.0  2754.0  4703400

[734 rows x 6 columns]
2025-07-27 11:48:32,604 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=2&limit=20
2025-07-27 11:48:32,604 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:48:32,629 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:48:32,632 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 20
        
2025-07-27 11:48:32,700 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                           name industry golden_cross dead_cross      rsi    macd signal_line
count       20                             20       20           20         20       19      20          20
unique      20                             20       16            1          2       19      20          20
top     2340.T  Gokurakuyu Holdings Co., Ltd.                 False      False  61.5385  0.1706     -0.1829
freq         1                              1        4           20         19        1       1           1
2025-07-27 11:48:32,706 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name                         industry  ...      rsi      macd signal_line
0   2340.T                      Gokurakuyu Holdings Co., Ltd.                          Leisure  ...  61.5385    0.1706     -0.1829
1   2503.T                    Kirin Holdings Company, Limited              Beverages - Brewers  ...  43.8692   -6.9434     -9.2594
2   2516.T                                 TSE Growth 250 ETF                                   ...  71.0388    3.7515      1.7417
3   2557.T                                    SMDAM TOPIX ETF                                   ...  71.6724   37.0464     23.9367
4   2816.T                                    Daisho Co.,Ltd.                Food Distribution  ...  61.1111    0.4406     -0.0749
5   2839.T  MAXIS US Treasury Bond 7-10 Year ETF (JPY Hedged)                                   ...  43.7086   -1.1649     -0.3133
6   2857.T     iShares Germany Government Bond JPY Hedged ETF                                   ...  33.5247   -1.2154     -1.1743
7   3048.T                                    Bic Camera Inc.                 Specialty Retail  ...  33.0116    3.5538     15.7441
8   3169.T                                  Misawa & Co.,Ltd.                Department Stores  ...  26.6667   -1.8368     -1.7610
9   317A.T                                    エス・エム・エス・データテック  Information Technology Services  ...      NaN    0.0000      0.0000
10  3224.T                               General Oyster, Inc.                      Restaurants  ...  39.0244   -9.1712    -10.3285
11  3299.T                              MUGEN ESTATE Co.,Ltd.        Real Estate - Development  ...  52.7897  -19.5895    -23.7337
12  3377.T                              BIKE O & COMPANY Ltd.         Auto & Truck Dealerships  ...  28.5714   -1.4627     -0.8264
13  3611.T                               Matsuoka Corporation            Apparel Manufacturing  ...  61.9048    4.5984      3.5850
14  3645.T                                  Medical Net, Inc.   Internet Content & Information  ...  60.3448    1.7854      0.3603
15  3662.T                           Ateam Holdings Co., Ltd.   Internet Content & Information  ...  75.8865   33.2175     31.7577
16  3719.T                                 AI storm Co., Ltd.              Consulting Services  ...  60.2740   -1.5483     -2.4149
17  3726.T                                   4Cs HD Co., Ltd.                  Internet Retail  ...  46.4164  -23.4266    -12.7629
18  3787.T                      Techno Mathematical Co., Ltd.           Software - Application  ...  65.2850   10.7319      3.3857
19  3791.T                                      IG Port, Inc.                    Entertainment  ...  42.3540  -88.2178    -73.6805

[20 rows x 8 columns]
2025-07-27 11:48:32,707 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 2/6)
2025-07-27 11:48:32,707 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:48:34,240 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/3377.T
2025-07-27 11:48:34,240 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:48:34,259 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:48:34,275 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  1183.4895  1205.5763  1122.7505  1122.7505  234300
1   2022-07-28 15:00:00+00:00  1095.1420  1108.9463  1069.3739  1101.5840  217100
2   2022-07-31 15:00:00+00:00  1099.7434  1112.6274  1071.2145  1096.0623   93900
3   2022-08-01 15:00:00+00:00  1096.0623  1102.5043  1079.4971  1083.1782   49000
4   2022-08-02 15:00:00+00:00  1078.5767  1146.6780  1058.3304  1133.7940  204100
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00   412.0000   415.0000   410.0000   413.0000    7800
730 2025-07-21 15:00:00+00:00   419.0000   424.0000   417.0000   418.0000   14700
731 2025-07-22 15:00:00+00:00   418.0000   419.0000   414.0000   418.0000   10600
732 2025-07-23 15:00:00+00:00   418.0000   420.0000   416.0000   417.0000    7800
733 2025-07-24 15:00:00+00:00   418.0000   419.0000   416.0000   417.0000    5700

[734 rows x 6 columns]
2025-07-27 11:49:11,305 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=4&limit=20
2025-07-27 11:49:11,306 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:49:11,329 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:49:11,331 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 60
        
2025-07-27 11:49:11,401 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol       name                        industry golden_cross dead_cross      rsi    macd signal_line
count       20         20                              20           19         19       19      19          19
unique      20         20                              13            1          1       19      19          19
top     6071.T  IBJ, Inc.  Specialty Industrial Machinery        False      False  49.0000  6.7540     11.0175
freq         1          1                               5           19         19        1       1           1
2025-07-27 11:49:11,407 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                             name                        industry golden_cross dead_cross      rsi      macd signal_line
0   6071.T                        IBJ, Inc.               Personal Services        False      False  49.0000    6.7540     11.0175
1   6089.T                 Will Group, Inc.  Staffing & Employment Services        False      False  74.5455    8.0694      5.3278
2   6093.T         Escrow Agent Japan, Inc.     Specialty Business Services        False      False  47.0588   -1.2395     -1.4088
3   6159.T       Micron Machinery Co., Ltd.  Specialty Industrial Machinery        False      False  20.0000  -22.8371      7.0629
4   6203.T             Howa Machinery, Ltd.  Specialty Industrial Machinery        False      False  58.9928   -7.6295    -13.0974
5   6231.T            KIMURA KOHKI Co.,Ltd.    Electrical Equipment & Parts        False      False  47.3684   54.3625    119.4401
6   6237.T                  Iwaki Co., Ltd.  Specialty Industrial Machinery        False      False  88.4685   83.3002     49.1727
7   6336.T            Ishii Hyoki Co., Ltd.  Specialty Industrial Machinery        False      False  53.5714    9.4195     11.2675
8   6433.T               HEPHAIST Co., Ltd.               Metal Fabrication        False      False  78.3784    9.3570      8.3144
9   6444.T               Sanden Corporation                      Auto Parts        False      False  55.5556   -0.2615     -0.5164
10  6471.T                         NSK Ltd.                      Auto Parts        False      False  60.1695   14.1059     12.9208
11  6576.T                Youkosha Co.,Ltd.                                         None       None     None      None        None
12  6752.T   Panasonic Holdings Corporation            Consumer Electronics        False      False  40.5063  -18.8727    -25.2248
13  6753.T                Sharp Corporation            Consumer Electronics        False      False  48.3557   -7.8857    -13.0111
14  6787.T      Meiko Electronics Co., Ltd.           Electronic Components        False      False  59.2593  166.1699    152.6170
15  6788.T             Nihon Trim Co., Ltd.  Pollution & Treatment Controls        False      False  63.0435   79.3383     88.4493
16  6969.T         Matsuo Electric Co.,Ltd.           Electronic Components        False      False  51.0791   18.9898     25.2816
17  7012.T  Kawasaki Heavy Industries, Ltd.  Specialty Industrial Machinery        False      False  69.6954  105.7503     46.5619
18  7187.T                 J-Lease Co.,Ltd.            Real Estate Services        False      False  60.8563   19.1516     20.5539
19  7203.T         Toyota Motor Corporation              Auto Manufacturers        False      False  74.3755   47.2065      4.3285
2025-07-27 11:49:11,407 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 4/6)
2025-07-27 11:49:11,408 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:56:41,963 - utils - INFO - [api.py:<module>:47] - CORSミドルウェアが設定されました: すべてのオリジンを許可
2025-07-27 11:56:49,667 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 11:56:49,668 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:56:49,691 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:56:49,694 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 11:56:49,765 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 11:56:49,769 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 11:56:49,770 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 11:56:49,770 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:56:49,772 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 11:56:49,772 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:56:49,792 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:56:49,795 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 11:56:49,861 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 11:56:49,865 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 11:56:49,865 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 11:56:49,866 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:56:53,605 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 11:56:53,606 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:56:53,625 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:56:53,627 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 11:56:53,693 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 11:56:53,698 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 11:56:53,698 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 11:56:53,699 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:56:53,700 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 11:56:53,701 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:56:53,710 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:56:53,713 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 11:56:53,779 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 11:56:53,783 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 11:56:53,784 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 11:56:53,784 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 11:56:56,262 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1311.T
2025-07-27 11:56:56,263 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:56:56,287 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:56:56,305 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date        open       high         low       close  volume
0   2022-07-27 15:00:00+00:00   897.17790   897.1779   887.46950   889.08750    1350
1   2022-07-28 15:00:00+00:00   893.65630   893.6563   882.42487   883.56710     810
2   2022-07-31 15:00:00+00:00   886.13696   892.7045   883.18640   891.27680    1100
3   2022-08-01 15:00:00+00:00   890.03930   890.0393   873.66820   877.57060    3510
4   2022-08-02 15:00:00+00:00   876.61884   894.0370   875.66705   877.66583    1310
..                        ...         ...        ...         ...         ...     ...
729 2025-07-17 15:00:00+00:00  1480.00000  1480.0000  1471.50000  1475.00000    3740
730 2025-07-21 15:00:00+00:00  1475.50000  1494.5000  1472.50000  1481.50000    4370
731 2025-07-22 15:00:00+00:00  1507.00000  1548.5000  1507.00000  1536.00000   46730
732 2025-07-23 15:00:00+00:00  1558.50000  1581.0000  1558.50000  1570.50000   49490
733 2025-07-24 15:00:00+00:00  1559.00000  1565.0000  1550.50000  1557.00000    7360

[734 rows x 6 columns]
2025-07-27 11:56:58,086 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/130A.T
2025-07-27 11:56:58,087 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:56:58,098 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:56:58,114 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date    open    high     low   close   volume
0   2024-02-07 15:00:00+00:00  2001.0  2501.0  2001.0  2501.0  2075000
1   2024-02-08 15:00:00+00:00  2851.0  3005.0  2606.0  3005.0  5396100
2   2024-02-12 15:00:00+00:00  3285.0  3355.0  2606.0  2673.0  3761900
3   2024-02-13 15:00:00+00:00  3025.0  3175.0  2970.0  3175.0   933800
4   2024-02-14 15:00:00+00:00  3340.0  3475.0  2549.0  2710.0  3385800
..                        ...     ...     ...     ...     ...      ...
353 2025-07-17 15:00:00+00:00   669.0   669.0   639.0   646.0    61900
354 2025-07-21 15:00:00+00:00   644.0   660.0   634.0   643.0    47900
355 2025-07-22 15:00:00+00:00   643.0   659.0   643.0   650.0    63900
356 2025-07-23 15:00:00+00:00   651.0   658.0   641.0   641.0    31400
357 2025-07-24 15:00:00+00:00   641.0   649.0   637.0   638.0    37900

[358 rows x 6 columns]
2025-07-27 11:57:41,042 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=3&limit=20
2025-07-27 11:57:41,042 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 11:57:41,064 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 11:57:41,067 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 40
        
2025-07-27 11:57:41,132 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                                             name  ...    macd signal_line
count       20                                               20  ...      20          20
unique      20                                               20  ...      20          20
top     381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)  ...  8.2518      6.2154
freq         1                                                1  ...       1           1

[4 rows x 8 columns]
2025-07-27 11:57:41,136 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                             name  ...       macd  signal_line
0   381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)  ...     8.2518       6.2154
1   3922.T                             PR TIMES Corporation  ...   160.0002     126.9985
2   3961.T                  Silver Egg Technology Co., Ltd.  ...    -0.3663      -0.9292
3   3992.T                                  Needs Well Inc.  ...     4.2646      -2.7752
4   4170.T                            Kaizen Platform, Inc.  ...     4.4737       4.4955
5   4178.T                         Sharing Innovations Inc.  ...     2.7750       3.3226
6   4246.T                      DaikyoNishikawa Corporation  ...    17.3490      14.0597
7   4264.T                                     Secure, Inc.  ...    -9.1282     -20.5591
8   4274.T                Hosoya Pyro-Engineering Co., Ltd.  ...    -3.9401      -5.0663
9   4324.T                                Dentsu Group Inc.  ...   -23.8547     -31.3325
10  4436.T                       MINKABU THE INFONOID, Inc.  ...    -3.8650      -3.5246
11  4534.T                 Mochida Pharmaceutical Co., Ltd.  ...    20.1065       3.3129
12  4597.T                              Solasia Pharma K.K.  ...     2.4116       2.2183
13  5015.T                                  BP Castrol K.K.  ...    -0.3506       0.1927
14  5071.T                                    VIS Co., Ltd.  ...    11.1304       7.5649
15  5132.T                                   pluszero, Inc.  ...   -63.8709     -52.9713
16  5189.T                          Sakura Rubber Co., Ltd.  ...    21.3983      19.2826
17  5252.T                          Nihon Knowledge Co,Ltd.  ...     3.1222       4.9428
18  5571.T                        Excite Holdings Co., Ltd.  ...    27.5542      23.2936
19  6026.T                                   GMO TECH, Inc.  ...  -175.1311    -193.6701

[20 rows x 8 columns]
2025-07-27 11:57:41,136 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 3/6)
2025-07-27 11:57:41,136 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:07:09,452 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:07:09,453 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:09,463 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:09,465 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:07:09,534 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry  ...      rsi     macd signal_line
count       20                 20       20  ...       19       20          20
unique      20                 20        8  ...       19       20          20
top     1301.T  Kyokuyo Co., Ltd.           ...  66.9231  50.4712     38.1063
freq         1                  1       12  ...        1        1           1

[4 rows x 8 columns]
2025-07-27 12:07:09,538 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:07:09,539 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:07:09,539 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:07:09,541 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:07:09,541 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:09,572 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:09,574 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:07:09,640 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry  ...      rsi     macd signal_line
count       20                 20       20  ...       19       20          20
unique      20                 20        8  ...       19       20          20
top     1301.T  Kyokuyo Co., Ltd.           ...  66.9231  50.4712     38.1063
freq         1                  1       12  ...        1        1           1

[4 rows x 8 columns]
2025-07-27 12:07:09,644 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:07:09,644 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:07:09,644 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:07:19,591 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1319.T
2025-07-27 12:07:19,591 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:19,619 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:19,633 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  325.58370  330.04758  325.58370  330.04758    5000
1   2022-07-28 15:00:00+00:00  330.04758  330.04758  330.04758  330.04758       0
2   2022-07-31 15:00:00+00:00  330.04758  330.04758  330.04758  330.04758       0
3   2022-08-01 15:00:00+00:00  332.37247  332.37247  328.55957  328.55957    2000
4   2022-08-02 15:00:00+00:00  328.55957  328.55957  328.55957  328.55957       0
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  543.60000  546.00000  543.60000  546.00000    4000
730 2025-07-21 15:00:00+00:00  536.30000  548.00000  536.30000  548.00000    2000
731 2025-07-22 15:00:00+00:00  554.90000  567.90000  554.90000  565.20000   20000
732 2025-07-23 15:00:00+00:00  568.00000  574.60000  568.00000  573.20000    6000
733 2025-07-24 15:00:00+00:00  569.60000  569.60000  569.40000  569.40000    3000

[734 rows x 6 columns]
2025-07-27 12:07:26,383 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/4324.T
2025-07-27 12:07:26,384 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:26,407 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:26,422 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close   volume
0   2022-07-27 15:00:00+00:00  4062.8757  4125.5195  4058.4014  4112.0957   809700
1   2022-07-28 15:00:00+00:00  4129.9937  4192.6370  4116.5703  4143.4175   978000
2   2022-07-31 15:00:00+00:00  4165.7896  4201.5860  4116.5700  4201.5860   578500
3   2022-08-01 15:00:00+00:00  4188.1620  4201.5854  4116.5693  4129.9930   900000
4   2022-08-02 15:00:00+00:00  4143.4175  4147.8920  4089.7231  4143.4175   933700
..                        ...        ...        ...        ...        ...      ...
729 2025-07-17 15:00:00+00:00  2888.5000  2897.0000  2863.5000  2866.0000   895300
730 2025-07-21 15:00:00+00:00  2859.0000  2898.0000  2822.5000  2829.5000  1262600
731 2025-07-22 15:00:00+00:00  2874.0000  3014.0000  2860.5000  3002.0000  2279200
732 2025-07-23 15:00:00+00:00  3021.0000  3095.0000  3006.0000  3077.0000  1546300
733 2025-07-24 15:00:00+00:00  3077.0000  3077.0000  3006.0000  3021.0000   983900

[734 rows x 6 columns]
2025-07-27 12:07:33,712 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:07:33,712 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:33,726 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:33,729 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:07:33,801 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry  ...      rsi     macd signal_line
count       20                 20       20  ...       19       20          20
unique      20                 20        8  ...       19       20          20
top     1301.T  Kyokuyo Co., Ltd.           ...  66.9231  50.4712     38.1063
freq         1                  1       12  ...        1        1           1

[4 rows x 8 columns]
2025-07-27 12:07:33,807 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:07:33,808 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:07:33,808 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:07:33,811 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:07:33,812 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:33,834 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:33,837 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:07:33,907 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry  ...      rsi     macd signal_line
count       20                 20       20  ...       19       20          20
unique      20                 20        8  ...       19       20          20
top     1301.T  Kyokuyo Co., Ltd.           ...  66.9231  50.4712     38.1063
freq         1                  1       12  ...        1        1           1

[4 rows x 8 columns]
2025-07-27 12:07:33,915 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:07:33,915 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:07:33,916 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:07:35,341 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1566.T
2025-07-27 12:07:35,341 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:35,367 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:35,721 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  37087.676  37096.300  36863.370  36975.523     230
1   2022-07-28 15:00:00+00:00  36863.375  36975.527  36587.310  36751.223     621
2   2022-07-31 15:00:00+00:00  36880.613  36880.613  36466.516  36733.953     604
3   2022-08-01 15:00:00+00:00  36483.777  36570.047  36345.742  36535.540     556
4   2022-08-02 15:00:00+00:00  36664.953  36794.360  36561.426  36751.223     312
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  50120.000  50480.000  50050.000  50230.000     350
730 2025-07-21 15:00:00+00:00  50130.000  50220.000  50100.000  50130.000     135
731 2025-07-22 15:00:00+00:00  50080.000  50160.000  50010.000  50100.000     367
732 2025-07-23 15:00:00+00:00  50150.000  50150.000  50000.000  50000.000     546
733 2025-07-24 15:00:00+00:00  50000.000  50490.000  50000.000  50300.000     501

[734 rows x 6 columns]
2025-07-27 12:07:37,290 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1319.T
2025-07-27 12:07:37,290 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:37,326 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:37,346 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  325.58370  330.04758  325.58370  330.04758    5000
1   2022-07-28 15:00:00+00:00  330.04758  330.04758  330.04758  330.04758       0
2   2022-07-31 15:00:00+00:00  330.04758  330.04758  330.04758  330.04758       0
3   2022-08-01 15:00:00+00:00  332.37247  332.37247  328.55957  328.55957    2000
4   2022-08-02 15:00:00+00:00  328.55957  328.55957  328.55957  328.55957       0
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  543.60000  546.00000  543.60000  546.00000    4000
730 2025-07-21 15:00:00+00:00  536.30000  548.00000  536.30000  548.00000    2000
731 2025-07-22 15:00:00+00:00  554.90000  567.90000  554.90000  565.20000   20000
732 2025-07-23 15:00:00+00:00  568.00000  574.60000  568.00000  573.20000    6000
733 2025-07-24 15:00:00+00:00  569.60000  569.60000  569.40000  569.40000    3000

[734 rows x 6 columns]
2025-07-27 12:07:38,992 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/148A.T
2025-07-27 12:07:38,993 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:39,005 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:39,022 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date    open    high     low   close   volume
0   2024-03-25 15:00:00+00:00  2815.0  3315.0  2781.0  3315.0  2713000
1   2024-03-26 15:00:00+00:00  3805.0  4015.0  2891.0  2919.0  3857400
2   2024-03-27 15:00:00+00:00  2960.0  3020.0  2525.0  2567.0   502800
3   2024-03-28 15:00:00+00:00  2617.0  2727.0  2431.0  2440.0   171100
4   2024-03-31 15:00:00+00:00  2523.0  2637.0  2426.0  2637.0   115400
..                        ...     ...     ...     ...     ...      ...
323 2025-07-17 15:00:00+00:00  2295.0  2297.0  2208.0  2208.0    12400
324 2025-07-21 15:00:00+00:00  2230.0  2231.0  2126.0  2224.0    13400
325 2025-07-22 15:00:00+00:00  2244.0  2296.0  2196.0  2282.0    16000
326 2025-07-23 15:00:00+00:00  2298.0  2441.0  2280.0  2428.0    32000
327 2025-07-24 15:00:00+00:00  2403.0  2417.0  2367.0  2367.0     6600

[328 rows x 6 columns]
2025-07-27 12:07:44,621 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1309.T
2025-07-27 12:07:44,622 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:44,645 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:44,664 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date     open     high      low    close  volume
0   2022-07-27 15:00:00+00:00  43520.0  43800.0  43200.0  43500.0     167
1   2022-07-28 15:00:00+00:00  43130.0  43130.0  41370.0  42000.0     345
2   2022-07-31 15:00:00+00:00  42840.0  43100.0  42210.0  42780.0      87
3   2022-08-01 15:00:00+00:00  42780.0  42780.0  40600.0  40950.0     510
4   2022-08-02 15:00:00+00:00  40950.0  41800.0  40950.0  41480.0     160
..                        ...      ...      ...      ...      ...     ...
729 2025-07-17 15:00:00+00:00  45100.0  45990.0  45100.0  45990.0     136
730 2025-07-21 15:00:00+00:00  45970.0  46080.0  45680.0  45910.0     175
731 2025-07-22 15:00:00+00:00  46310.0  46730.0  45850.0  46480.0     251
732 2025-07-23 15:00:00+00:00  46480.0  46480.0  46010.0  46180.0      49
733 2025-07-24 15:00:00+00:00  46010.0  46280.0  45940.0  45940.0     141

[734 rows x 6 columns]
2025-07-27 12:07:50,716 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=6&limit=20
2025-07-27 12:07:50,716 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:07:50,744 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:07:50,747 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 100
        
2025-07-27 12:07:50,819 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                       name       industry  ...      rsi    macd signal_line
count       10                         10             10  ...       10      10          10
unique      10                         10             10  ...       10      10          10
top     9249.T  Japan Ecosystem Co., Ltd.  Entertainment  ...  64.0625  0.1078     -0.9105
freq         1                          1              1  ...        1       1           1

[4 rows x 8 columns]
2025-07-27 12:07:50,824 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
   symbol                                               name  ...       macd  signal_line
0  9249.T                          Japan Ecosystem Co., Ltd.  ...     0.1078      -0.9105
1  9286.T  Enex Infrastructure Investment Corporation - I...  ...   292.0191     262.8811
2  9337.T                                      toridori Inc.  ...    33.5025      27.0068
3  9433.T                                   KDDI Corporation  ...     6.4506      -1.1789
4  9536.T                        Saibu Gas Holdings Co.,Ltd.  ...    18.8185      10.7152
5  9766.T                           Konami Group Corporation  ...  -156.3623    -117.2003
6  9791.T                           Biken Techno Corporation  ...    -7.7922      -6.0071
7  9857.T                                   Eiwa Corporation  ...    14.2204      25.4591
8  9994.T                                 Yamaya Corporation  ...    17.5466     -20.2133
9  9997.T                                  Belluna Co., Ltd.  ...    20.9967      19.1180

[10 rows x 8 columns]
2025-07-27 12:07:50,825 - utils - INFO - [api.py:get_stocks:123] - 10件の銘柄データを取得しました (ページ 6/6)
2025-07-27 12:07:50,825 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:09:17,642 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:09:17,643 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:09:17,651 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:09:17,654 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:09:17,723 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry  ...      rsi     macd signal_line
count       20                 20       20  ...       19       20          20
unique      20                 20        8  ...       19       20          20
top     1301.T  Kyokuyo Co., Ltd.           ...  66.9231  50.4712     38.1063
freq         1                  1       12  ...        1        1           1

[4 rows x 8 columns]
2025-07-27 12:09:17,726 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:09:17,727 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:09:17,727 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:09:17,729 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:09:17,730 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:09:17,739 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:09:17,742 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:09:17,812 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry  ...      rsi     macd signal_line
count       20                 20       20  ...       19       20          20
unique      20                 20        8  ...       19       20          20
top     1301.T  Kyokuyo Co., Ltd.           ...  66.9231  50.4712     38.1063
freq         1                  1       12  ...        1        1           1

[4 rows x 8 columns]
2025-07-27 12:09:17,817 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:09:17,817 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:09:17,818 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:09:24,607 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=3&limit=20
2025-07-27 12:09:24,607 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:09:24,631 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:09:24,634 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 40
        
2025-07-27 12:09:24,701 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                                             name  ...    macd signal_line
count       20                                               20  ...      20          20
unique      20                                               20  ...      20          20
top     381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)  ...  8.2518      6.2154
freq         1                                                1  ...       1           1

[4 rows x 8 columns]
2025-07-27 12:09:24,705 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                             name  ...       macd  signal_line
0   381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)  ...     8.2518       6.2154
1   3922.T                             PR TIMES Corporation  ...   160.0002     126.9985
2   3961.T                  Silver Egg Technology Co., Ltd.  ...    -0.3663      -0.9292
3   3992.T                                  Needs Well Inc.  ...     4.2646      -2.7752
4   4170.T                            Kaizen Platform, Inc.  ...     4.4737       4.4955
5   4178.T                         Sharing Innovations Inc.  ...     2.7750       3.3226
6   4246.T                      DaikyoNishikawa Corporation  ...    17.3490      14.0597
7   4264.T                                     Secure, Inc.  ...    -9.1282     -20.5591
8   4274.T                Hosoya Pyro-Engineering Co., Ltd.  ...    -3.9401      -5.0663
9   4324.T                                Dentsu Group Inc.  ...   -23.8547     -31.3325
10  4436.T                       MINKABU THE INFONOID, Inc.  ...    -3.8650      -3.5246
11  4534.T                 Mochida Pharmaceutical Co., Ltd.  ...    20.1065       3.3129
12  4597.T                              Solasia Pharma K.K.  ...     2.4116       2.2183
13  5015.T                                  BP Castrol K.K.  ...    -0.3506       0.1927
14  5071.T                                    VIS Co., Ltd.  ...    11.1304       7.5649
15  5132.T                                   pluszero, Inc.  ...   -63.8709     -52.9713
16  5189.T                          Sakura Rubber Co., Ltd.  ...    21.3983      19.2826
17  5252.T                          Nihon Knowledge Co,Ltd.  ...     3.1222       4.9428
18  5571.T                        Excite Holdings Co., Ltd.  ...    27.5542      23.2936
19  6026.T                                   GMO TECH, Inc.  ...  -175.1311    -193.6701

[20 rows x 8 columns]
2025-07-27 12:09:24,705 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 3/6)
2025-07-27 12:09:24,705 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:11:29,000 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/381A.T
2025-07-27 12:11:29,000 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:11:29,029 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:11:29,038 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                        date    open    high     low   close  volume
0  2025-06-24 15:00:00+00:00  1996.0  1997.0  1992.0  1996.0     306
1  2025-06-25 15:00:00+00:00  1988.0  2002.0  1988.0  2002.0    8435
2  2025-06-26 15:00:00+00:00  1996.0  1996.0  1992.0  1993.0     114
3  2025-06-29 15:00:00+00:00  1993.0  1993.0  1977.0  1980.0    5440
4  2025-06-30 15:00:00+00:00  1982.0  1985.0  1977.0  1977.0   20837
5  2025-07-01 15:00:00+00:00  1975.0  1978.0  1970.0  1976.0   11702
6  2025-07-02 15:00:00+00:00  1976.0  1982.0  1976.0  1981.0   16434
7  2025-07-06 15:00:00+00:00  1995.0  1995.0  1995.0  1995.0       1
8  2025-07-07 15:00:00+00:00  2005.0  2005.0  2003.0  2003.0       6
9  2025-07-08 15:00:00+00:00  2019.0  2019.0  2012.0  2016.0      62
10 2025-07-09 15:00:00+00:00  2009.0  2011.0  2009.0  2011.0      61
11 2025-07-10 15:00:00+00:00  2013.0  2013.0  2013.0  2013.0       1
12 2025-07-13 15:00:00+00:00  2018.0  2018.0  2017.0  2018.0      11
13 2025-07-14 15:00:00+00:00  2026.0  2026.0  2026.0  2026.0       5
14 2025-07-16 15:00:00+00:00  2034.0  2036.0  2034.0  2036.0      15
15 2025-07-21 15:00:00+00:00  2033.0  2033.0  2033.0  2033.0       1
16 2025-07-22 15:00:00+00:00  2027.0  2027.0  2027.0  2027.0       1
17 2025-07-23 15:00:00+00:00  2017.0  2017.0  2009.0  2009.0       4
18 2025-07-24 15:00:00+00:00  2026.0  2026.0  2026.0  2026.0       1
2025-07-27 12:11:37,180 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/4534.T
2025-07-27 12:11:37,181 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:11:37,190 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:11:37,202 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  3128.7615  3138.0732  3077.5466  3119.4497   36200
1   2022-07-28 15:00:00+00:00  3128.7617  3128.7617  3026.3320  3035.6438   40500
2   2022-07-31 15:00:00+00:00  3040.2996  3263.7825  3003.0525  3166.0088  128900
3   2022-08-01 15:00:00+00:00  3175.3208  3259.1267  3166.0088  3221.8796  111500
4   2022-08-02 15:00:00+00:00  3235.8472  3273.0942  3152.0410  3170.6646   73000
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  3025.0000  3025.0000  2977.0000  2990.0000   16400
730 2025-07-21 15:00:00+00:00  3030.0000  3030.0000  2969.0000  2970.0000   25900
731 2025-07-22 15:00:00+00:00  2980.0000  3035.0000  2980.0000  3025.0000   30600
732 2025-07-23 15:00:00+00:00  3030.0000  3050.0000  3025.0000  3035.0000   23600
733 2025-07-24 15:00:00+00:00  3045.0000  3085.0000  3025.0000  3055.0000   23300

[734 rows x 6 columns]
2025-07-27 12:12:21,255 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:12:21,255 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:12:21,278 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:12:21,280 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:12:21,345 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry  ...      rsi     macd signal_line
count       20                 20       20  ...       19       20          20
unique      20                 20        8  ...       19       20          20
top     1301.T  Kyokuyo Co., Ltd.           ...  66.9231  50.4712     38.1063
freq         1                  1       12  ...        1        1           1

[4 rows x 8 columns]
2025-07-27 12:12:21,351 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:12:21,352 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:12:21,352 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:12:35,020 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=2&limit=20
2025-07-27 12:12:35,020 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:12:35,043 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:12:35,046 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 20
        
2025-07-27 12:12:35,111 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                           name industry  ...      rsi    macd signal_line
count       20                             20       20  ...       19      20          20
unique      20                             20       16  ...       19      20          20
top     2340.T  Gokurakuyu Holdings Co., Ltd.           ...  61.5385  0.1706     -0.1829
freq         1                              1        4  ...        1       1           1

[4 rows x 8 columns]
2025-07-27 12:12:35,117 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...      macd  signal_line
0   2340.T                      Gokurakuyu Holdings Co., Ltd.  ...    0.1706      -0.1829
1   2503.T                    Kirin Holdings Company, Limited  ...   -6.9434      -9.2594
2   2516.T                                 TSE Growth 250 ETF  ...    3.7515       1.7417
3   2557.T                                    SMDAM TOPIX ETF  ...   37.0464      23.9367
4   2816.T                                    Daisho Co.,Ltd.  ...    0.4406      -0.0749
5   2839.T  MAXIS US Treasury Bond 7-10 Year ETF (JPY Hedged)  ...   -1.1649      -0.3133
6   2857.T     iShares Germany Government Bond JPY Hedged ETF  ...   -1.2154      -1.1743
7   3048.T                                    Bic Camera Inc.  ...    3.5538      15.7441
8   3169.T                                  Misawa & Co.,Ltd.  ...   -1.8368      -1.7610
9   317A.T                                    エス・エム・エス・データテック  ...    0.0000       0.0000
10  3224.T                               General Oyster, Inc.  ...   -9.1712     -10.3285
11  3299.T                              MUGEN ESTATE Co.,Ltd.  ...  -19.5895     -23.7337
12  3377.T                              BIKE O & COMPANY Ltd.  ...   -1.4627      -0.8264
13  3611.T                               Matsuoka Corporation  ...    4.5984       3.5850
14  3645.T                                  Medical Net, Inc.  ...    1.7854       0.3603
15  3662.T                           Ateam Holdings Co., Ltd.  ...   33.2175      31.7577
16  3719.T                                 AI storm Co., Ltd.  ...   -1.5483      -2.4149
17  3726.T                                   4Cs HD Co., Ltd.  ...  -23.4266     -12.7629
18  3787.T                      Techno Mathematical Co., Ltd.  ...   10.7319       3.3857
19  3791.T                                      IG Port, Inc.  ...  -88.2178     -73.6805

[20 rows x 8 columns]
2025-07-27 12:12:35,117 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 2/6)
2025-07-27 12:12:35,117 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:17:35,196 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/2340.T
2025-07-27 12:17:35,196 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:17:35,208 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:17:35,226 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date   open   high    low  close  volume
0   2022-07-27 15:00:00+00:00  289.0  289.0  288.0  288.0   11500
1   2022-07-28 15:00:00+00:00  289.0  289.0  288.0  289.0    8400
2   2022-07-31 15:00:00+00:00  289.0  290.0  288.0  289.0   23900
3   2022-08-01 15:00:00+00:00  289.0  290.0  289.0  289.0   13400
4   2022-08-02 15:00:00+00:00  289.0  290.0  289.0  290.0   13600
..                        ...    ...    ...    ...    ...     ...
729 2025-07-17 15:00:00+00:00  487.0  487.0  480.0  482.0   53300
730 2025-07-21 15:00:00+00:00  486.0  486.0  480.0  484.0   54100
731 2025-07-22 15:00:00+00:00  486.0  486.0  482.0  486.0   35400
732 2025-07-23 15:00:00+00:00  487.0  489.0  485.0  488.0   41200
733 2025-07-24 15:00:00+00:00  488.0  489.0  485.0  487.0   23700

[734 rows x 6 columns]
2025-07-27 12:17:37,088 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/2340.T
2025-07-27 12:17:37,089 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:17:37,110 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:17:37,130 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date   open   high    low  close  volume
0   2022-07-27 15:00:00+00:00  289.0  289.0  288.0  288.0   11500
1   2022-07-28 15:00:00+00:00  289.0  289.0  288.0  289.0    8400
2   2022-07-31 15:00:00+00:00  289.0  290.0  288.0  289.0   23900
3   2022-08-01 15:00:00+00:00  289.0  290.0  289.0  289.0   13400
4   2022-08-02 15:00:00+00:00  289.0  290.0  289.0  290.0   13600
..                        ...    ...    ...    ...    ...     ...
729 2025-07-17 15:00:00+00:00  487.0  487.0  480.0  482.0   53300
730 2025-07-21 15:00:00+00:00  486.0  486.0  480.0  484.0   54100
731 2025-07-22 15:00:00+00:00  486.0  486.0  482.0  486.0   35400
732 2025-07-23 15:00:00+00:00  487.0  489.0  485.0  488.0   41200
733 2025-07-24 15:00:00+00:00  488.0  489.0  485.0  487.0   23700

[734 rows x 6 columns]
2025-07-27 12:17:41,991 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/2340.T
2025-07-27 12:17:41,991 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:17:42,013 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:17:42,037 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date   open   high    low  close  volume
0   2022-07-27 15:00:00+00:00  289.0  289.0  288.0  288.0   11500
1   2022-07-28 15:00:00+00:00  289.0  289.0  288.0  289.0    8400
2   2022-07-31 15:00:00+00:00  289.0  290.0  288.0  289.0   23900
3   2022-08-01 15:00:00+00:00  289.0  290.0  289.0  289.0   13400
4   2022-08-02 15:00:00+00:00  289.0  290.0  289.0  290.0   13600
..                        ...    ...    ...    ...    ...     ...
729 2025-07-17 15:00:00+00:00  487.0  487.0  480.0  482.0   53300
730 2025-07-21 15:00:00+00:00  486.0  486.0  480.0  484.0   54100
731 2025-07-22 15:00:00+00:00  486.0  486.0  482.0  486.0   35400
732 2025-07-23 15:00:00+00:00  487.0  489.0  485.0  488.0   41200
733 2025-07-24 15:00:00+00:00  488.0  489.0  485.0  487.0   23700

[734 rows x 6 columns]
2025-07-27 12:17:56,707 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/3048.T
2025-07-27 12:17:56,707 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:17:56,731 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:17:56,747 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close   volume
0   2022-07-27 15:00:00+00:00  1097.8721  1104.5029  1085.5577  1101.6611   734500
1   2022-07-28 15:00:00+00:00  1105.4502  1106.3975  1093.1359  1095.0304   803400
2   2022-07-31 15:00:00+00:00  1098.8193  1116.8173  1092.1885  1114.9227   776000
3   2022-08-01 15:00:00+00:00  1113.9756  1116.8174  1108.2920  1110.1865   511800
4   2022-08-02 15:00:00+00:00  1104.5029  1106.3975  1051.4565  1059.9818  1816500
..                        ...        ...        ...        ...        ...      ...
729 2025-07-17 15:00:00+00:00  1632.0000  1640.0000  1618.5000  1628.5000   362500
730 2025-07-21 15:00:00+00:00  1628.0000  1633.5000  1607.5000  1607.5000   483300
731 2025-07-22 15:00:00+00:00  1607.5000  1619.0000  1597.0000  1604.0000   669400
732 2025-07-23 15:00:00+00:00  1617.0000  1620.0000  1611.5000  1619.5000   388600
733 2025-07-24 15:00:00+00:00  1616.0000  1616.0000  1590.0000  1592.0000   739400

[734 rows x 6 columns]
2025-07-27 12:17:58,374 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/2557.T
2025-07-27 12:17:58,374 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:17:58,398 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:17:58,419 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  1826.0668  1826.0668  1826.0668  1826.0668       0
1   2022-07-28 15:00:00+00:00  1820.9412  1820.9412  1820.9412  1820.9412      10
2   2022-07-31 15:00:00+00:00  1840.9772  1840.9772  1840.9772  1840.9772     160
3   2022-08-01 15:00:00+00:00  1812.0880  1812.0880  1812.0880  1812.0880      10
4   2022-08-02 15:00:00+00:00  1812.0880  1812.0880  1812.0880  1812.0880       0
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  2864.0000  2864.0000  2863.5000  2863.5000   13090
730 2025-07-21 15:00:00+00:00  2865.5000  2878.5000  2850.5000  2850.5000   65240
731 2025-07-22 15:00:00+00:00  2918.0000  2967.5000  2913.0000  2967.5000   78020
732 2025-07-23 15:00:00+00:00  3009.0000  3013.0000  3009.0000  3012.0000     460
733 2025-07-24 15:00:00+00:00  3001.0000  3001.0000  2982.5000  2982.5000    2810

[734 rows x 6 columns]
2025-07-27 12:17:59,950 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/2503.T
2025-07-27 12:17:59,950 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:17:59,960 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:17:59,981 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close   volume
0   2022-07-27 15:00:00+00:00  1987.3915  1988.7434  1974.3224  1984.6875  2565400
1   2022-07-28 15:00:00+00:00  1981.0822  1983.3354  1960.8027  1969.8158  2348600
2   2022-07-31 15:00:00+00:00  1960.3520  1994.6019  1954.0430  1992.7993  2584300
3   2022-08-01 15:00:00+00:00  1990.5458  1992.7991  1961.7039  1971.1676  2313100
4   2022-08-02 15:00:00+00:00  1977.9275  1985.5886  1957.1974  1964.4078  2102400
..                        ...        ...        ...        ...        ...      ...
729 2025-07-17 15:00:00+00:00  1995.0000  2008.0000  1991.5000  2001.5000  2077600
730 2025-07-21 15:00:00+00:00  1999.0000  2010.0000  1971.0000  1976.0000  3739200
731 2025-07-22 15:00:00+00:00  1976.0000  2005.0000  1974.0000  1997.5000  4992900
732 2025-07-23 15:00:00+00:00  1995.0000  2011.5000  1991.0000  2008.5000  3408600
733 2025-07-24 15:00:00+00:00  2012.0000  2015.5000  1995.0000  1995.5000  2459400

[734 rows x 6 columns]
2025-07-27 12:19:35,831 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/2857.T
2025-07-27 12:19:35,831 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:19:35,855 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:19:35,872 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  768.81647  768.81647  762.05330  763.00586     240
1   2022-07-28 15:00:00+00:00  770.15010  776.34180  768.62604  776.34180  124850
2   2022-07-31 15:00:00+00:00  777.29430  777.29430  771.57890  771.57890     130
3   2022-08-01 15:00:00+00:00  783.67660  783.67660  782.91455  782.91455      20
4   2022-08-02 15:00:00+00:00  777.29443  779.67584  777.19920  779.67584     400
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  656.40000  656.40000  655.10000  655.10000     220
730 2025-07-21 15:00:00+00:00  658.60000  658.60000  658.30000  658.30000      40
731 2025-07-22 15:00:00+00:00  660.00000  660.00000  657.90000  657.90000     120
732 2025-07-23 15:00:00+00:00  654.80000  655.80000  654.80000  655.60000     190
733 2025-07-24 15:00:00+00:00  655.50000  655.50000  653.50000  653.50000     510

[734 rows x 6 columns]
2025-07-27 12:19:37,432 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/3299.T
2025-07-27 12:19:37,432 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:19:37,461 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:19:37,480 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date        open        high         low       close  volume
0   2022-07-27 15:00:00+00:00   401.71857   405.08023   400.87814   405.08023   25000
1   2022-07-28 15:00:00+00:00   405.92070   410.12274   401.71860   407.60150   51700
2   2022-07-31 15:00:00+00:00   407.60150   407.60150   405.08026   407.60150   14600
3   2022-08-01 15:00:00+00:00   405.08023   405.08023   403.39940   403.39940   14300
4   2022-08-02 15:00:00+00:00   403.39940   404.23984   400.87817   401.71860   14400
..                        ...         ...         ...         ...         ...     ...
729 2025-07-17 15:00:00+00:00  1940.00000  1940.00000  1840.00000  1861.00000  337700
730 2025-07-21 15:00:00+00:00  1901.00000  1916.00000  1869.00000  1898.00000  118000
731 2025-07-22 15:00:00+00:00  1917.00000  1923.00000  1900.00000  1915.00000   94600
732 2025-07-23 15:00:00+00:00  1933.00000  1937.00000  1910.00000  1910.00000   81700
733 2025-07-24 15:00:00+00:00  1917.00000  1920.00000  1902.00000  1914.00000   71800

[734 rows x 6 columns]
2025-07-27 12:19:55,573 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/3169.T
2025-07-27 12:19:55,573 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:19:55,595 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:19:55,611 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low     close  volume
0   2022-07-27 15:00:00+00:00  577.86835  586.53640  577.86835  581.7208   92700
1   2022-07-28 15:00:00+00:00  579.79460  584.61017  579.79460  581.7208    4800
2   2022-07-31 15:00:00+00:00  583.64710  587.49960  581.72090  584.6102    5700
3   2022-08-01 15:00:00+00:00  584.61017  584.61017  580.75770  580.7577    4900
4   2022-08-02 15:00:00+00:00  580.75770  582.68396  579.79460  581.7208    3000
..                        ...        ...        ...        ...       ...     ...
729 2025-07-17 15:00:00+00:00  630.00000  632.00000  630.00000  630.0000    4200
730 2025-07-21 15:00:00+00:00  634.00000  634.00000  629.00000  629.0000    5000
731 2025-07-22 15:00:00+00:00  629.00000  631.00000  629.00000  630.0000    4700
732 2025-07-23 15:00:00+00:00  632.00000  633.00000  630.00000  630.0000    4200
733 2025-07-24 15:00:00+00:00  631.00000  632.00000  631.00000  631.0000    3700

[734 rows x 6 columns]
2025-07-27 12:19:58,665 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:19:58,666 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:19:58,690 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:19:58,693 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:19:58,764 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:19:58,770 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:19:58,770 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:19:58,771 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:20:24,325 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:20:24,325 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:20:24,337 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:20:24,340 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:20:24,410 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:20:24,417 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:20:24,417 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:20:24,417 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:20:24,420 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:20:24,420 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:20:24,453 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:20:24,456 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:20:24,525 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:20:24,529 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:20:24,530 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:20:24,530 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:20:24,532 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:20:24,533 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:20:24,542 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:20:24,544 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:20:24,624 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:20:24,629 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:20:24,629 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:20:24,630 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:20:24,632 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:20:24,632 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:20:24,642 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:20:24,645 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:20:24,710 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:20:24,714 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:20:24,714 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:20:24,715 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:25:28,993 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1309.T
2025-07-27 12:25:28,994 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:25:29,003 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:25:29,015 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date     open     high      low    close  volume
0   2022-07-27 15:00:00+00:00  43520.0  43800.0  43200.0  43500.0     167
1   2022-07-28 15:00:00+00:00  43130.0  43130.0  41370.0  42000.0     345
2   2022-07-31 15:00:00+00:00  42840.0  43100.0  42210.0  42780.0      87
3   2022-08-01 15:00:00+00:00  42780.0  42780.0  40600.0  40950.0     510
4   2022-08-02 15:00:00+00:00  40950.0  41800.0  40950.0  41480.0     160
..                        ...      ...      ...      ...      ...     ...
729 2025-07-17 15:00:00+00:00  45100.0  45990.0  45100.0  45990.0     136
730 2025-07-21 15:00:00+00:00  45970.0  46080.0  45680.0  45910.0     175
731 2025-07-22 15:00:00+00:00  46310.0  46730.0  45850.0  46480.0     251
732 2025-07-23 15:00:00+00:00  46480.0  46480.0  46010.0  46180.0      49
733 2025-07-24 15:00:00+00:00  46010.0  46280.0  45940.0  45940.0     141

[734 rows x 6 columns]
2025-07-27 12:25:32,159 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:25:32,159 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:25:32,169 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:25:32,171 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:25:32,244 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:25:32,250 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:25:32,250 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:25:32,251 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:25:32,252 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:25:32,252 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:25:32,262 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:25:32,264 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:25:32,330 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:25:32,335 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:25:32,335 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:25:32,336 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:33:21,218 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:33:21,219 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:33:21,228 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:33:21,230 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:33:21,295 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:33:21,302 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:33:21,303 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:33:21,303 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:33:21,305 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:33:21,305 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:33:21,334 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:33:21,337 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:33:21,404 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:33:21,408 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:33:21,409 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:33:21,409 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:33:25,627 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=2&limit=20
2025-07-27 12:33:25,627 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:33:25,657 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:33:25,660 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 20
        
2025-07-27 12:33:25,726 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                           name industry  ...      rsi    macd signal_line
count       20                             20       20  ...       19      20          20
unique      20                             20       16  ...       19      20          20
top     2340.T  Gokurakuyu Holdings Co., Ltd.           ...  61.5385  0.1706     -0.1829
freq         1                              1        4  ...        1       1           1

[4 rows x 8 columns]
2025-07-27 12:33:25,731 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...      macd  signal_line
0   2340.T                      Gokurakuyu Holdings Co., Ltd.  ...    0.1706      -0.1829
1   2503.T                    Kirin Holdings Company, Limited  ...   -6.9434      -9.2594
2   2516.T                                 TSE Growth 250 ETF  ...    3.7515       1.7417
3   2557.T                                    SMDAM TOPIX ETF  ...   37.0464      23.9367
4   2816.T                                    Daisho Co.,Ltd.  ...    0.4406      -0.0749
5   2839.T  MAXIS US Treasury Bond 7-10 Year ETF (JPY Hedged)  ...   -1.1649      -0.3133
6   2857.T     iShares Germany Government Bond JPY Hedged ETF  ...   -1.2154      -1.1743
7   3048.T                                    Bic Camera Inc.  ...    3.5538      15.7441
8   3169.T                                  Misawa & Co.,Ltd.  ...   -1.8368      -1.7610
9   317A.T                                    エス・エム・エス・データテック  ...    0.0000       0.0000
10  3224.T                               General Oyster, Inc.  ...   -9.1712     -10.3285
11  3299.T                              MUGEN ESTATE Co.,Ltd.  ...  -19.5895     -23.7337
12  3377.T                              BIKE O & COMPANY Ltd.  ...   -1.4627      -0.8264
13  3611.T                               Matsuoka Corporation  ...    4.5984       3.5850
14  3645.T                                  Medical Net, Inc.  ...    1.7854       0.3603
15  3662.T                           Ateam Holdings Co., Ltd.  ...   33.2175      31.7577
16  3719.T                                 AI storm Co., Ltd.  ...   -1.5483      -2.4149
17  3726.T                                   4Cs HD Co., Ltd.  ...  -23.4266     -12.7629
18  3787.T                      Techno Mathematical Co., Ltd.  ...   10.7319       3.3857
19  3791.T                                      IG Port, Inc.  ...  -88.2178     -73.6805

[20 rows x 8 columns]
2025-07-27 12:33:25,731 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 2/6)
2025-07-27 12:33:25,732 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:36:47,538 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:36:47,539 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:36:47,559 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:36:47,561 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:36:47,626 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:36:47,630 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:36:47,630 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:36:47,630 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:36:47,632 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:36:47,632 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:36:47,641 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:36:47,644 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:36:47,709 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:36:47,714 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:36:47,714 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:36:47,715 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:39:51,400 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:39:51,401 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:39:51,423 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:39:51,425 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:39:51,510 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:39:51,514 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:39:51,514 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:39:51,514 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:39:51,517 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:39:51,517 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:39:51,547 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:39:51,550 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:39:51,623 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:39:51,629 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:39:51,630 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:39:51,630 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:39:57,720 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:39:57,720 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:39:57,756 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:39:57,758 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:39:57,822 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:39:57,827 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:39:57,827 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:39:57,827 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:39:57,829 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:39:57,830 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:39:57,838 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:39:57,840 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:39:57,907 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:39:57,911 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:39:57,911 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:39:57,912 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:40:18,310 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1320.T
2025-07-27 12:40:18,310 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:40:18,334 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:40:18,352 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  27181.426  27205.197  26843.855  26996.000   31355
1   2022-07-28 15:00:00+00:00  27133.880  27186.180  26929.438  26976.982   29703
2   2022-07-31 15:00:00+00:00  27000.756  27167.162  26948.455  27167.162   19491
3   2022-08-01 15:00:00+00:00  27005.512  27029.283  26734.506  26801.068   32722
4   2022-08-02 15:00:00+00:00  26934.193  27029.283  26834.348  26924.684   19917
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  41150.000  41170.000  40810.000  40920.000   36850
730 2025-07-21 15:00:00+00:00  40890.000  41360.000  40660.000  40810.000   45434
731 2025-07-22 15:00:00+00:00  41510.000  42460.000  41350.000  42290.000  122068
732 2025-07-23 15:00:00+00:00  42860.000  43200.000  42740.000  42950.000   74561
733 2025-07-24 15:00:00+00:00  42780.000  42860.000  42530.000  42580.000   49581

[734 rows x 6 columns]
2025-07-27 12:40:20,739 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1305.T
2025-07-27 12:40:20,740 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:40:20,766 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:40:20,786 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  1907.5005  1909.3715  1891.5968  1898.1454   59050
1   2022-07-28 15:00:00+00:00  1904.2261  1904.2261  1886.4514  1890.6613  200600
2   2022-07-31 15:00:00+00:00  1893.9357  1911.2426  1889.2582  1909.3716   69750
3   2022-08-01 15:00:00+00:00  1899.0808  1900.0164  1874.7577  1876.6287  114430
4   2022-08-02 15:00:00+00:00  1881.3063  1885.5160  1875.6932  1883.6450  248550
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  2989.5000  2990.0000  2971.5000  2973.0000  154890
730 2025-07-21 15:00:00+00:00  2976.5000  3004.0000  2959.5000  2974.5000  265810
731 2025-07-22 15:00:00+00:00  3020.0000  3083.0000  3019.0000  3068.0000  687780
732 2025-07-23 15:00:00+00:00  3104.0000  3133.0000  3101.0000  3123.0000  305360
733 2025-07-24 15:00:00+00:00  3112.0000  3114.0000  3093.0000  3095.0000  305950

[734 rows x 6 columns]
2025-07-27 12:53:50,308 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:53:50,308 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:53:50,320 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:53:50,322 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:53:50,387 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:53:50,391 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:53:50,392 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:53:50,392 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:53:50,394 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 12:53:50,394 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:53:50,403 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:53:50,406 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 12:53:50,472 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 12:53:50,477 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 12:53:50,477 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 12:53:50,477 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 12:54:03,402 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1308.T
2025-07-27 12:54:03,402 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 12:54:03,412 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 12:54:03,427 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  1864.9507  1866.3540  1849.9825  1855.5956  109800
1   2022-07-28 15:00:00+00:00  1860.7408  1860.7408  1845.7726  1849.9824  148200
2   2022-07-31 15:00:00+00:00  1851.8535  1868.6929  1845.3049  1867.2896  240200
3   2022-08-01 15:00:00+00:00  1855.5956  1855.5956  1833.6110  1834.0787  142500
4   2022-08-02 15:00:00+00:00  1839.6918  1843.9016  1835.4819  1838.7562   47800
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  2923.0000  2924.0000  2906.0000  2909.0000  279594
730 2025-07-21 15:00:00+00:00  2911.0000  2939.0000  2895.0000  2911.0000  335175
731 2025-07-22 15:00:00+00:00  2953.0000  3015.0000  2952.0000  3004.0000  668900
732 2025-07-23 15:00:00+00:00  3035.0000  3065.0000  3030.0000  3056.0000  233910
733 2025-07-24 15:00:00+00:00  3044.0000  3048.0000  3023.0000  3028.0000  224448

[734 rows x 6 columns]
2025-07-27 13:15:15,358 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:15:15,359 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:15:15,369 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:15:15,372 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:15:15,439 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:15:15,442 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 13:15:15,443 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:15:15,443 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:15:15,445 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:15:15,445 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:15:15,476 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:15:15,478 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:15:15,546 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:15:15,550 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 13:15:15,551 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:15:15,551 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:18:59,525 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:18:59,525 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:18:59,548 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:18:59,550 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:18:59,617 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:18:59,621 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 13:18:59,622 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:18:59,622 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:20:38,792 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:20:38,793 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:20:38,816 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:20:38,818 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:20:38,887 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:20:38,893 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 13:20:38,893 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:20:38,893 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:20:38,895 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:20:38,896 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:20:38,905 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:20:38,908 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:20:38,975 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:20:38,980 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 13:20:38,980 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:20:38,980 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:20:46,340 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1306.T
2025-07-27 13:20:46,341 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:20:46,352 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:20:46,368 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close   volume
0   2022-07-27 15:00:00+00:00  1888.2416  1889.6458  1871.3906  1878.8799  1560200
1   2022-07-28 15:00:00+00:00  1884.4970  1884.9651  1866.7098  1870.9226  1812110
2   2022-07-31 15:00:00+00:00  1873.2630  1891.5182  1869.0502  1890.1139  1645480
3   2022-08-01 15:00:00+00:00  1879.3480  1880.7522  1855.4758  1860.1566  4724750
4   2022-08-02 15:00:00+00:00  1863.4332  1867.1779  1857.3481  1861.5609  1389140
..                        ...        ...        ...        ...        ...      ...
729 2025-07-17 15:00:00+00:00  2958.5000  2960.0000  2941.0000  2944.0000  1699470
730 2025-07-21 15:00:00+00:00  2945.5000  2973.0000  2929.0000  2943.5000  1469560
731 2025-07-22 15:00:00+00:00  2989.5000  3052.0000  2986.0000  3040.0000  3750000
732 2025-07-23 15:00:00+00:00  3073.0000  3102.0000  3068.0000  3093.0000  1644240
733 2025-07-24 15:00:00+00:00  3082.0000  3085.0000  3060.0000  3062.0000   843430

[734 rows x 6 columns]
2025-07-27 13:20:57,417 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1309.T
2025-07-27 13:20:57,418 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:20:57,438 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:20:57,451 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date     open     high      low    close  volume
0   2022-07-27 15:00:00+00:00  43520.0  43800.0  43200.0  43500.0     167
1   2022-07-28 15:00:00+00:00  43130.0  43130.0  41370.0  42000.0     345
2   2022-07-31 15:00:00+00:00  42840.0  43100.0  42210.0  42780.0      87
3   2022-08-01 15:00:00+00:00  42780.0  42780.0  40600.0  40950.0     510
4   2022-08-02 15:00:00+00:00  40950.0  41800.0  40950.0  41480.0     160
..                        ...      ...      ...      ...      ...     ...
729 2025-07-17 15:00:00+00:00  45100.0  45990.0  45100.0  45990.0     136
730 2025-07-21 15:00:00+00:00  45970.0  46080.0  45680.0  45910.0     175
731 2025-07-22 15:00:00+00:00  46310.0  46730.0  45850.0  46480.0     251
732 2025-07-23 15:00:00+00:00  46480.0  46480.0  46010.0  46180.0      49
733 2025-07-24 15:00:00+00:00  46010.0  46280.0  45940.0  45940.0     141

[734 rows x 6 columns]
2025-07-27 13:24:24,363 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=2&limit=20
2025-07-27 13:24:24,364 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:24:24,385 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:24:24,387 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 20
        
2025-07-27 13:24:24,449 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                           name industry golden_cross dead_cross      rsi    macd signal_line
count       20                             20       20           20         20       19      20          20
unique      20                             20       16            1          2       19      20          20
top     2340.T  Gokurakuyu Holdings Co., Ltd.                 False      False  61.5385  0.1706     -0.1829
freq         1                              1        4           20         19        1       1           1
2025-07-27 13:24:24,453 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...      macd  signal_line
0   2340.T                      Gokurakuyu Holdings Co., Ltd.  ...    0.1706      -0.1829
1   2503.T                    Kirin Holdings Company, Limited  ...   -6.9434      -9.2594
2   2516.T                                 TSE Growth 250 ETF  ...    3.7515       1.7417
3   2557.T                                    SMDAM TOPIX ETF  ...   37.0464      23.9367
4   2816.T                                    Daisho Co.,Ltd.  ...    0.4406      -0.0749
5   2839.T  MAXIS US Treasury Bond 7-10 Year ETF (JPY Hedged)  ...   -1.1649      -0.3133
6   2857.T     iShares Germany Government Bond JPY Hedged ETF  ...   -1.2154      -1.1743
7   3048.T                                    Bic Camera Inc.  ...    3.5538      15.7441
8   3169.T                                  Misawa & Co.,Ltd.  ...   -1.8368      -1.7610
9   317A.T                                    エス・エム・エス・データテック  ...    0.0000       0.0000
10  3224.T                               General Oyster, Inc.  ...   -9.1712     -10.3285
11  3299.T                              MUGEN ESTATE Co.,Ltd.  ...  -19.5895     -23.7337
12  3377.T                              BIKE O & COMPANY Ltd.  ...   -1.4627      -0.8264
13  3611.T                               Matsuoka Corporation  ...    4.5984       3.5850
14  3645.T                                  Medical Net, Inc.  ...    1.7854       0.3603
15  3662.T                           Ateam Holdings Co., Ltd.  ...   33.2175      31.7577
16  3719.T                                 AI storm Co., Ltd.  ...   -1.5483      -2.4149
17  3726.T                                   4Cs HD Co., Ltd.  ...  -23.4266     -12.7629
18  3787.T                      Techno Mathematical Co., Ltd.  ...   10.7319       3.3857
19  3791.T                                      IG Port, Inc.  ...  -88.2178     -73.6805

[20 rows x 8 columns]
2025-07-27 13:24:24,454 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 2/6)
2025-07-27 13:24:24,454 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:24:33,249 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=6&limit=20
2025-07-27 13:24:33,250 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:24:33,276 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:24:33,279 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 100
        
2025-07-27 13:24:33,351 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                       name       industry golden_cross dead_cross      rsi    macd signal_line
count       10                         10             10           10         10       10      10          10
unique      10                         10             10            1          1       10      10          10
top     9249.T  Japan Ecosystem Co., Ltd.  Entertainment        False      False  64.0625  0.1078     -0.9105
freq         1                          1              1           10         10        1       1           1
2025-07-27 13:24:33,354 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
   symbol                                               name  ...       macd  signal_line
0  9249.T                          Japan Ecosystem Co., Ltd.  ...     0.1078      -0.9105
1  9286.T  Enex Infrastructure Investment Corporation - I...  ...   292.0191     262.8811
2  9337.T                                      toridori Inc.  ...    33.5025      27.0068
3  9433.T                                   KDDI Corporation  ...     6.4506      -1.1789
4  9536.T                        Saibu Gas Holdings Co.,Ltd.  ...    18.8185      10.7152
5  9766.T                           Konami Group Corporation  ...  -156.3623    -117.2003
6  9791.T                           Biken Techno Corporation  ...    -7.7922      -6.0071
7  9857.T                                   Eiwa Corporation  ...    14.2204      25.4591
8  9994.T                                 Yamaya Corporation  ...    17.5466     -20.2133
9  9997.T                                  Belluna Co., Ltd.  ...    20.9967      19.1180

[10 rows x 8 columns]
2025-07-27 13:24:33,355 - utils - INFO - [api.py:get_stocks:123] - 10件の銘柄データを取得しました (ページ 6/6)
2025-07-27 13:24:33,355 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:24:39,838 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/9791.T
2025-07-27 13:24:39,838 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:24:39,862 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:24:39,879 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  890.57990  890.57990  876.70795  888.73030    3000
1   2022-07-28 15:00:00+00:00  889.65515  889.65515  877.63275  878.55756    1900
2   2022-07-31 15:00:00+00:00  894.27905  894.27905  882.25670  894.27905    3300
3   2022-08-01 15:00:00+00:00  879.48224  879.48224  860.98630  867.45990    1100
4   2022-08-02 15:00:00+00:00  867.45996  867.45996  859.13680  859.13680     600
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  965.00000  979.00000  960.00000  960.00000    4200
730 2025-07-21 15:00:00+00:00  962.00000  965.00000  957.00000  958.00000    4000
731 2025-07-22 15:00:00+00:00  963.00000  965.00000  959.00000  962.00000    2100
732 2025-07-23 15:00:00+00:00  967.00000  969.00000  959.00000  960.00000    8300
733 2025-07-24 15:00:00+00:00  964.00000  965.00000  961.00000  962.00000    2200

[734 rows x 6 columns]
2025-07-27 13:24:41,932 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/9791.T
2025-07-27 13:24:41,932 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:24:41,953 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:24:41,969 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  890.57990  890.57990  876.70795  888.73030    3000
1   2022-07-28 15:00:00+00:00  889.65515  889.65515  877.63275  878.55756    1900
2   2022-07-31 15:00:00+00:00  894.27905  894.27905  882.25670  894.27905    3300
3   2022-08-01 15:00:00+00:00  879.48224  879.48224  860.98630  867.45990    1100
4   2022-08-02 15:00:00+00:00  867.45996  867.45996  859.13680  859.13680     600
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  965.00000  979.00000  960.00000  960.00000    4200
730 2025-07-21 15:00:00+00:00  962.00000  965.00000  957.00000  958.00000    4000
731 2025-07-22 15:00:00+00:00  963.00000  965.00000  959.00000  962.00000    2100
732 2025-07-23 15:00:00+00:00  967.00000  969.00000  959.00000  960.00000    8300
733 2025-07-24 15:00:00+00:00  964.00000  965.00000  961.00000  962.00000    2200

[734 rows x 6 columns]
2025-07-27 13:24:55,822 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:24:55,822 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:24:55,858 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:24:55,861 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:24:55,928 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:24:55,936 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 13:24:55,937 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:24:55,937 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:29:09,880 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:29:09,881 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:29:09,909 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:29:09,912 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:29:09,978 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:29:09,983 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name                       industry  ...      rsi       macd signal_line
0   1301.T                                  Kyokuyo Co., Ltd.                 Packaged Foods  ...  66.9231    50.4712     38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)                                 ...  68.8643    38.4821     24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund                                 ...  66.8538    38.5558     24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX                                 ...  65.4765    38.5959     25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...                                 ...  69.1076   767.4815    676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ                  Biotechnology  ...  61.9529     0.2772     -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund                                 ...  70.3842    21.5434     11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund                                 ...  71.3029     6.6639      4.4082
8   131A.T                                            ＣＣＮグループ                                 ...      NaN     0.0363      0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)                                 ...  67.7833   658.8843    514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225                                 ...  65.9800   671.1416    527.7553
11  148A.T                                            ハッチ・ワーク    Specialty Business Services  ...  63.9759    42.5622     31.8332
12  150A.T                                                ＪＳＨ                  Conglomerates  ...  44.2105   -11.2916    -12.3952
13  1566.T                    Listed Index Fund Emerging Bond                                 ...  73.2020   440.1158    455.4455
14  1573.T                           China Bear -1x HSCEI ETF                                 ...  34.5133   -91.4731    -55.2384
15  1757.T                               Souken Ace Co., Ltd.      Real Estate - Development  ...  60.0000    -1.5323     -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)                                 ...  51.6710     2.9299      2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.     Engineering & Construction  ...  66.2791    99.5051    109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  Building Products & Equipment  ...  81.0811   215.8824    187.8402
19  2160.T                                     GNI Group Ltd.                  Biotechnology  ...  24.2511  -137.5830   -111.6464

[20 rows x 8 columns]
2025-07-27 13:29:09,983 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:29:09,984 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:29:09,986 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:29:09,986 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:29:10,019 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:29:10,022 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:29:10,088 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:29:10,092 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name                       industry  ...      rsi       macd signal_line
0   1301.T                                  Kyokuyo Co., Ltd.                 Packaged Foods  ...  66.9231    50.4712     38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)                                 ...  68.8643    38.4821     24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund                                 ...  66.8538    38.5558     24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX                                 ...  65.4765    38.5959     25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...                                 ...  69.1076   767.4815    676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ                  Biotechnology  ...  61.9529     0.2772     -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund                                 ...  70.3842    21.5434     11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund                                 ...  71.3029     6.6639      4.4082
8   131A.T                                            ＣＣＮグループ                                 ...      NaN     0.0363      0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)                                 ...  67.7833   658.8843    514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225                                 ...  65.9800   671.1416    527.7553
11  148A.T                                            ハッチ・ワーク    Specialty Business Services  ...  63.9759    42.5622     31.8332
12  150A.T                                                ＪＳＨ                  Conglomerates  ...  44.2105   -11.2916    -12.3952
13  1566.T                    Listed Index Fund Emerging Bond                                 ...  73.2020   440.1158    455.4455
14  1573.T                           China Bear -1x HSCEI ETF                                 ...  34.5133   -91.4731    -55.2384
15  1757.T                               Souken Ace Co., Ltd.      Real Estate - Development  ...  60.0000    -1.5323     -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)                                 ...  51.6710     2.9299      2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.     Engineering & Construction  ...  66.2791    99.5051    109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  Building Products & Equipment  ...  81.0811   215.8824    187.8402
19  2160.T                                     GNI Group Ltd.                  Biotechnology  ...  24.2511  -137.5830   -111.6464

[20 rows x 8 columns]
2025-07-27 13:29:10,092 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:29:10,093 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:30:06,432 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=6&limit=20
2025-07-27 13:30:06,432 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:30:06,453 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:30:06,455 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 100
        
2025-07-27 13:30:06,521 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                       name       industry golden_cross dead_cross      rsi    macd signal_line
count       10                         10             10           10         10       10      10          10
unique      10                         10             10            1          1       10      10          10
top     9249.T  Japan Ecosystem Co., Ltd.  Entertainment        False      False  64.0625  0.1078     -0.9105
freq         1                          1              1           10         10        1       1           1
2025-07-27 13:30:06,524 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
   symbol                                               name                        industry  ...      rsi       macd signal_line
0  9249.T                          Japan Ecosystem Co., Ltd.                   Entertainment  ...  64.0625     0.1078     -0.9105
1  9286.T  Enex Infrastructure Investment Corporation - I...                REIT - Specialty  ...  61.8182   292.0191    262.8811
2  9337.T                                      toridori Inc.          Software - Application  ...  63.2267    33.5025     27.0068
3  9433.T                                   KDDI Corporation                Telecom Services  ...  52.5151     6.4506     -1.1789
4  9536.T                        Saibu Gas Holdings Co.,Ltd.       Utilities - Regulated Gas  ...  71.0784    18.8185     10.7152
5  9766.T                           Konami Group Corporation  Electronic Gaming & Multimedia  ...  44.6125  -156.3623   -117.2003
6  9791.T                           Biken Techno Corporation     Specialty Business Services  ...  30.4348    -7.7922     -6.0071
7  9857.T                                   Eiwa Corporation    Electrical Equipment & Parts  ...  32.0930    14.2204     25.4591
8  9994.T                                 Yamaya Corporation             Beverages - Brewers  ...  71.0335    17.5466    -20.2133
9  9997.T                                  Belluna Co., Ltd.                Specialty Retail  ...  75.5102    20.9967     19.1180

[10 rows x 8 columns]
2025-07-27 13:30:06,524 - utils - INFO - [api.py:get_stocks:123] - 10件の銘柄データを取得しました (ページ 6/6)
2025-07-27 13:30:06,524 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:30:08,951 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/9766.T
2025-07-27 13:30:08,951 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:30:08,971 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:30:08,985 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date        open        high         low       close  volume
0   2022-07-27 15:00:00+00:00   7404.2060   7471.2560   7356.3135   7423.3633  361900
1   2022-07-28 15:00:00+00:00   7461.6772   7538.3057   7442.5200   7509.5700  579100
2   2022-07-31 15:00:00+00:00   7509.5710   7519.1494   7327.5786   7519.1494  397000
3   2022-08-01 15:00:00+00:00   7404.2060   7509.5700   7365.8920   7404.2060  372200
4   2022-08-02 15:00:00+00:00   7404.2070   7413.7850   7279.6860   7318.0000  508000
..                        ...         ...         ...         ...         ...     ...
729 2025-07-17 15:00:00+00:00  20670.0000  20740.0000  20390.0000  20645.0000  395500
730 2025-07-21 15:00:00+00:00  20660.0000  20900.0000  20210.0000  20315.0000  477900
731 2025-07-22 15:00:00+00:00  20295.0000  20310.0000  19840.0000  20255.0000  712100
732 2025-07-23 15:00:00+00:00  20650.0000  20745.0000  20180.0000  20475.0000  594900
733 2025-07-24 15:00:00+00:00  20800.0000  21085.0000  20065.0000  20225.0000  502700

[734 rows x 6 columns]
2025-07-27 13:30:12,010 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/9994.T
2025-07-27 13:30:12,010 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:30:12,019 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:30:12,031 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  2481.3716  2512.6016  2465.2832  2512.6016   11900
1   2022-07-28 15:00:00+00:00  2488.9424  2495.5671  2482.3179  2487.9960    3600
2   2022-07-31 15:00:00+00:00  2483.2644  2519.2263  2483.2644  2519.2263    5000
3   2022-08-01 15:00:00+00:00  2524.9043  2524.9043  2495.5670  2503.1380    3200
4   2022-08-02 15:00:00+00:00  2497.4600  2498.4062  2474.7470  2474.7470    6700
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  2475.0000  2488.0000  2429.0000  2432.0000    8900
730 2025-07-21 15:00:00+00:00  2430.0000  2430.0000  2380.0000  2383.0000   24600
731 2025-07-22 15:00:00+00:00  2391.0000  2593.0000  2391.0000  2524.0000   87200
732 2025-07-23 15:00:00+00:00  2674.0000  2845.0000  2656.0000  2782.0000  425600
733 2025-07-24 15:00:00+00:00  2715.0000  2763.0000  2672.0000  2708.0000  127700

[734 rows x 6 columns]
2025-07-27 13:59:18,825 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:59:18,825 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:59:18,836 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:59:18,839 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:59:18,906 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:59:18,910 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 13:59:18,910 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:59:18,910 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:59:18,912 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:59:18,912 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:59:18,935 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:59:18,937 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:59:19,007 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:59:19,011 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 13:59:19,011 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:59:19,011 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:59:30,192 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=2&limit=20
2025-07-27 13:59:30,192 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:59:30,205 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:59:30,208 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 20
        
2025-07-27 13:59:30,274 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                           name industry golden_cross dead_cross      rsi    macd signal_line
count       20                             20       20           20         20       19      20          20
unique      20                             20       16            1          2       19      20          20
top     2340.T  Gokurakuyu Holdings Co., Ltd.                 False      False  61.5385  0.1706     -0.1829
freq         1                              1        4           20         19        1       1           1
2025-07-27 13:59:30,278 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...      macd  signal_line
0   2340.T                      Gokurakuyu Holdings Co., Ltd.  ...    0.1706      -0.1829
1   2503.T                    Kirin Holdings Company, Limited  ...   -6.9434      -9.2594
2   2516.T                                 TSE Growth 250 ETF  ...    3.7515       1.7417
3   2557.T                                    SMDAM TOPIX ETF  ...   37.0464      23.9367
4   2816.T                                    Daisho Co.,Ltd.  ...    0.4406      -0.0749
5   2839.T  MAXIS US Treasury Bond 7-10 Year ETF (JPY Hedged)  ...   -1.1649      -0.3133
6   2857.T     iShares Germany Government Bond JPY Hedged ETF  ...   -1.2154      -1.1743
7   3048.T                                    Bic Camera Inc.  ...    3.5538      15.7441
8   3169.T                                  Misawa & Co.,Ltd.  ...   -1.8368      -1.7610
9   317A.T                                    エス・エム・エス・データテック  ...    0.0000       0.0000
10  3224.T                               General Oyster, Inc.  ...   -9.1712     -10.3285
11  3299.T                              MUGEN ESTATE Co.,Ltd.  ...  -19.5895     -23.7337
12  3377.T                              BIKE O & COMPANY Ltd.  ...   -1.4627      -0.8264
13  3611.T                               Matsuoka Corporation  ...    4.5984       3.5850
14  3645.T                                  Medical Net, Inc.  ...    1.7854       0.3603
15  3662.T                           Ateam Holdings Co., Ltd.  ...   33.2175      31.7577
16  3719.T                                 AI storm Co., Ltd.  ...   -1.5483      -2.4149
17  3726.T                                   4Cs HD Co., Ltd.  ...  -23.4266     -12.7629
18  3787.T                      Techno Mathematical Co., Ltd.  ...   10.7319       3.3857
19  3791.T                                      IG Port, Inc.  ...  -88.2178     -73.6805

[20 rows x 8 columns]
2025-07-27 13:59:30,278 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 2/6)
2025-07-27 13:59:30,278 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:59:30,579 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=3&limit=20
2025-07-27 13:59:30,579 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:59:30,589 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:59:30,592 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 40
        
2025-07-27 13:59:30,665 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                                             name  ...    macd signal_line
count       20                                               20  ...      20          20
unique      20                                               20  ...      20          20
top     381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)  ...  8.2518      6.2154
freq         1                                                1  ...       1           1

[4 rows x 8 columns]
2025-07-27 13:59:30,669 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                             name  ...       macd  signal_line
0   381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)  ...     8.2518       6.2154
1   3922.T                             PR TIMES Corporation  ...   160.0002     126.9985
2   3961.T                  Silver Egg Technology Co., Ltd.  ...    -0.3663      -0.9292
3   3992.T                                  Needs Well Inc.  ...     4.2646      -2.7752
4   4170.T                            Kaizen Platform, Inc.  ...     4.4737       4.4955
5   4178.T                         Sharing Innovations Inc.  ...     2.7750       3.3226
6   4246.T                      DaikyoNishikawa Corporation  ...    17.3490      14.0597
7   4264.T                                     Secure, Inc.  ...    -9.1282     -20.5591
8   4274.T                Hosoya Pyro-Engineering Co., Ltd.  ...    -3.9401      -5.0663
9   4324.T                                Dentsu Group Inc.  ...   -23.8547     -31.3325
10  4436.T                       MINKABU THE INFONOID, Inc.  ...    -3.8650      -3.5246
11  4534.T                 Mochida Pharmaceutical Co., Ltd.  ...    20.1065       3.3129
12  4597.T                              Solasia Pharma K.K.  ...     2.4116       2.2183
13  5015.T                                  BP Castrol K.K.  ...    -0.3506       0.1927
14  5071.T                                    VIS Co., Ltd.  ...    11.1304       7.5649
15  5132.T                                   pluszero, Inc.  ...   -63.8709     -52.9713
16  5189.T                          Sakura Rubber Co., Ltd.  ...    21.3983      19.2826
17  5252.T                          Nihon Knowledge Co,Ltd.  ...     3.1222       4.9428
18  5571.T                        Excite Holdings Co., Ltd.  ...    27.5542      23.2936
19  6026.T                                   GMO TECH, Inc.  ...  -175.1311    -193.6701

[20 rows x 8 columns]
2025-07-27 13:59:30,669 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 3/6)
2025-07-27 13:59:30,669 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:59:31,187 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=5&limit=20
2025-07-27 13:59:31,188 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:59:31,198 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:59:31,201 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 80
        
2025-07-27 13:59:31,277 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                    name       industry golden_cross dead_cross      rsi      macd signal_line
count       20                      20             20           20         20       20        20          20
unique      20                      20             14            1          1       20        20          20
top     7282.T  Toyoda Gosei Co., Ltd.  Conglomerates        False      False  68.2692  103.5528     83.9730
freq         1                       1              3           20         20        1         1           1
2025-07-27 13:59:31,282 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                              name                            industry  ...      rsi      macd signal_line
0   7282.T            Toyoda Gosei Co., Ltd.                          Auto Parts  ...  68.2692  103.5528     83.9730
1   7294.T                Yorozu Corporation                          Auto Parts  ...  60.0000    5.1047      2.3236
2   7419.T                Nojima Corporation                    Specialty Retail  ...  43.9716   36.6675     70.7670
3   7508.T                 G-7 Holdings Inc.                      Grocery Stores  ...  40.3509   -8.9396     -6.9843
4   7815.T  Tokyo Board Industries Co., Ltd.            Lumber & Wood Production  ...  52.1739    4.3365      5.4057
5   7847.T              Graphite Design Inc.                             Leisure  ...  76.0000    1.7963     -0.8028
6   7914.T          Kyodo Printing Co., Ltd.         Specialty Business Services  ...  73.4568   19.7453     16.1862
7   7995.T                      Valqua, Ltd.      Specialty Industrial Machinery  ...  89.7436   72.0968     44.8225
8   7997.T           Kurogane Kosakusho Ltd.  Furnishings, Fixtures & Appliances  ...  60.4520   19.7433     17.5979
9   8002.T              Marubeni Corporation                       Conglomerates  ...  70.8075   47.8184     38.8334
10  8051.T               Yamazen Corporation      Specialty Industrial Machinery  ...  84.8000   -0.0486     -9.8121
11  8070.T            Tokyo Sangyo Co., Ltd.                       Conglomerates  ...  64.4068    9.7595      6.4526
12  8081.T               Kanaden Corporation                       Conglomerates  ...  51.4950   25.2684     40.4877
13  8346.T               The Toho Bank, Ltd.                    Banks - Regional  ...  81.9672    8.3842      5.3831
14  8399.T      Bank of The Ryukyus, Limited                    Banks - Regional  ...  74.0506   24.2741     20.2229
15  8425.T   Mizuho Leasing Company, Limited                     Credit Services  ...  75.3623   15.6087     11.7170
16  8860.T          Fuji Corporation Limited                Real Estate Services  ...  52.7778    1.0825      0.6613
17  8886.T             Wood Friends Co.,Ltd.           Real Estate - Development  ...  51.7241    7.8545     11.1944
18  8928.T                Anabuki Kosan Inc.                Real Estate Services  ...  40.0000  -15.5423    -17.2563
19  9022.T     Central Japan Railway Company                           Railroads  ...  81.5562   64.0594     53.7524

[20 rows x 8 columns]
2025-07-27 13:59:31,283 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 5/6)
2025-07-27 13:59:31,283 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:59:33,201 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/7847.T
2025-07-27 13:59:33,201 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:59:33,211 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:59:33,223 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  553.23315  554.17084  551.35780  552.29550   10900
1   2022-07-28 15:00:00+00:00  553.23315  561.67230  550.42010  550.42010   16700
2   2022-07-31 15:00:00+00:00  556.98390  557.92160  553.23315  557.92160    2800
3   2022-08-01 15:00:00+00:00  559.79694  567.29840  555.10850  555.10850   25200
4   2022-08-02 15:00:00+00:00  556.98390  568.23610  556.04620  565.42303    2700
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  622.00000  625.00000  621.00000  621.00000    4600
730 2025-07-21 15:00:00+00:00  624.00000  635.00000  621.00000  633.00000   18200
731 2025-07-22 15:00:00+00:00  630.00000  640.00000  630.00000  639.00000    9300
732 2025-07-23 15:00:00+00:00  639.00000  640.00000  633.00000  640.00000    4000
733 2025-07-24 15:00:00+00:00  643.00000  646.00000  635.00000  646.00000    6400

[734 rows x 6 columns]
2025-07-27 13:59:44,710 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/8002.T
2025-07-27 13:59:44,710 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:59:44,737 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:59:44,756 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close   volume
0   2022-07-27 15:00:00+00:00  1096.3315  1098.5402  1085.7305  1091.0310  4864700
1   2022-07-28 15:00:00+00:00  1099.8652  1101.6321  1087.0555  1089.2642  4803800
2   2022-07-31 15:00:00+00:00  1102.5156  1125.9265  1099.8654  1123.7179  7194000
3   2022-08-01 15:00:00+00:00  1103.3990  1109.1412  1089.7059  1098.5402  6045500
4   2022-08-02 15:00:00+00:00  1102.9572  1109.5829  1095.8898  1106.9326  5364100
..                        ...        ...        ...        ...        ...      ...
729 2025-07-17 15:00:00+00:00  2940.0000  2943.0000  2926.0000  2928.0000  2618000
730 2025-07-21 15:00:00+00:00  2928.0000  2968.0000  2901.0000  2950.0000  3340300
731 2025-07-22 15:00:00+00:00  3000.0000  3068.0000  2987.0000  3052.0000  6295200
732 2025-07-23 15:00:00+00:00  3070.0000  3122.0000  3069.0000  3109.0000  4507700
733 2025-07-24 15:00:00+00:00  3100.0000  3103.0000  3074.0000  3090.0000  3434500

[734 rows x 6 columns]
2025-07-27 13:59:50,811 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=6&limit=20
2025-07-27 13:59:50,811 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:59:50,836 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:59:50,839 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 100
        
2025-07-27 13:59:50,917 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol                       name       industry golden_cross dead_cross      rsi    macd signal_line
count       10                         10             10           10         10       10      10          10
unique      10                         10             10            1          1       10      10          10
top     9249.T  Japan Ecosystem Co., Ltd.  Entertainment        False      False  64.0625  0.1078     -0.9105
freq         1                          1              1           10         10        1       1           1
2025-07-27 13:59:50,923 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
   symbol                                               name  ...       macd  signal_line
0  9249.T                          Japan Ecosystem Co., Ltd.  ...     0.1078      -0.9105
1  9286.T  Enex Infrastructure Investment Corporation - I...  ...   292.0191     262.8811
2  9337.T                                      toridori Inc.  ...    33.5025      27.0068
3  9433.T                                   KDDI Corporation  ...     6.4506      -1.1789
4  9536.T                        Saibu Gas Holdings Co.,Ltd.  ...    18.8185      10.7152
5  9766.T                           Konami Group Corporation  ...  -156.3623    -117.2003
6  9791.T                           Biken Techno Corporation  ...    -7.7922      -6.0071
7  9857.T                                   Eiwa Corporation  ...    14.2204      25.4591
8  9994.T                                 Yamaya Corporation  ...    17.5466     -20.2133
9  9997.T                                  Belluna Co., Ltd.  ...    20.9967      19.1180

[10 rows x 8 columns]
2025-07-27 13:59:50,923 - utils - INFO - [api.py:get_stocks:123] - 10件の銘柄データを取得しました (ページ 6/6)
2025-07-27 13:59:50,923 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:59:54,765 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20
2025-07-27 13:59:54,766 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:59:54,799 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:59:54,801 - utils - INFO - [api.py:get_stocks:114] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 13:59:54,869 - utils - INFO - [api.py:get_stocks:120] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 13:59:54,873 - utils - INFO - [api.py:get_stocks:121] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 13:59:54,873 - utils - INFO - [api.py:get_stocks:123] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 13:59:54,874 - utils - INFO - [api.py:get_stocks:141] - データベース接続をクローズしました
2025-07-27 13:59:56,743 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/1319.T
2025-07-27 13:59:56,743 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 13:59:56,764 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 13:59:56,781 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  325.58370  330.04758  325.58370  330.04758    5000
1   2022-07-28 15:00:00+00:00  330.04758  330.04758  330.04758  330.04758       0
2   2022-07-31 15:00:00+00:00  330.04758  330.04758  330.04758  330.04758       0
3   2022-08-01 15:00:00+00:00  332.37247  332.37247  328.55957  328.55957    2000
4   2022-08-02 15:00:00+00:00  328.55957  328.55957  328.55957  328.55957       0
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  543.60000  546.00000  543.60000  546.00000    4000
730 2025-07-21 15:00:00+00:00  536.30000  548.00000  536.30000  548.00000    2000
731 2025-07-22 15:00:00+00:00  554.90000  567.90000  554.90000  565.20000   20000
732 2025-07-23 15:00:00+00:00  568.00000  574.60000  568.00000  573.20000    6000
733 2025-07-24 15:00:00+00:00  569.60000  569.60000  569.40000  569.40000    3000

[734 rows x 6 columns]
2025-07-27 14:00:01,796 - utils - INFO - [api.py:get_chart:147] - 受信リクエスト: GET /chart/150A.T
2025-07-27 14:00:01,797 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:00:01,825 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:00:01,840 - utils - INFO - [api.py:get_chart:172] - チャートデータ:
                         date   open    high    low  close   volume
0   2024-03-25 15:00:00+00:00  893.0  1008.0  798.0  806.0  5227400
1   2024-03-26 15:00:00+00:00  806.0   874.0  710.0  777.0  2398300
2   2024-03-27 15:00:00+00:00  777.0   853.0  711.0  752.0   719800
3   2024-03-28 15:00:00+00:00  738.0   738.0  713.0  715.0   111700
4   2024-03-31 15:00:00+00:00  697.0   714.0  593.0  593.0   304000
..                        ...    ...     ...    ...    ...      ...
323 2025-07-17 15:00:00+00:00  455.0   457.0  443.0  452.0     8100
324 2025-07-21 15:00:00+00:00  452.0   452.0  426.0  431.0    19100
325 2025-07-22 15:00:00+00:00  431.0   433.0  421.0  428.0    13500
326 2025-07-23 15:00:00+00:00  428.0   441.0  422.0  436.0    10100
327 2025-07-24 15:00:00+00:00  439.0   439.0  431.0  436.0     4600

[328 rows x 6 columns]
2025-07-27 14:13:43,672 - utils - INFO - [api.py:<module>:47] - CORSミドルウェアが設定されました: すべてのオリジンを許可
2025-07-27 14:14:03,107 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:14:03,108 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:14:03,132 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:14:03,135 - utils - INFO - [api.py:get_stocks:123] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 14:14:03,135 - utils - INFO - [api.py:get_stocks:124] - 検索パラメータ: ()
2025-07-27 14:14:03,261 - utils - INFO - [api.py:get_stocks:136] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 14:14:03,266 - utils - INFO - [api.py:get_stocks:137] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:14:03,266 - utils - INFO - [api.py:get_stocks:139] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:14:03,267 - utils - INFO - [api.py:get_stocks:157] - データベース接続をクローズしました
2025-07-27 14:14:03,269 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:14:03,269 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:14:03,289 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:14:03,292 - utils - INFO - [api.py:get_stocks:123] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 14:14:03,292 - utils - INFO - [api.py:get_stocks:124] - 検索パラメータ: ()
2025-07-27 14:14:03,421 - utils - INFO - [api.py:get_stocks:136] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 14:14:03,425 - utils - INFO - [api.py:get_stocks:137] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:14:03,425 - utils - INFO - [api.py:get_stocks:139] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:14:03,426 - utils - INFO - [api.py:get_stocks:157] - データベース接続をクローズしました
2025-07-27 14:14:11,427 - utils - INFO - [api.py:get_chart:163] - 受信リクエスト: GET /chart/1308.T
2025-07-27 14:14:11,428 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:14:11,453 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:14:11,469 - utils - INFO - [api.py:get_chart:188] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  1864.9507  1866.3540  1849.9825  1855.5956  109800
1   2022-07-28 15:00:00+00:00  1860.7408  1860.7408  1845.7726  1849.9824  148200
2   2022-07-31 15:00:00+00:00  1851.8535  1868.6929  1845.3049  1867.2896  240200
3   2022-08-01 15:00:00+00:00  1855.5956  1855.5956  1833.6110  1834.0787  142500
4   2022-08-02 15:00:00+00:00  1839.6918  1843.9016  1835.4819  1838.7562   47800
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  2923.0000  2924.0000  2906.0000  2909.0000  279594
730 2025-07-21 15:00:00+00:00  2911.0000  2939.0000  2895.0000  2911.0000  335175
731 2025-07-22 15:00:00+00:00  2953.0000  3015.0000  2952.0000  3004.0000  668900
732 2025-07-23 15:00:00+00:00  3035.0000  3065.0000  3030.0000  3056.0000  233910
733 2025-07-24 15:00:00+00:00  3044.0000  3048.0000  3023.0000  3028.0000  224448

[734 rows x 6 columns]
2025-07-27 14:14:17,493 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=Nikko
2025-07-27 14:14:17,493 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:14:17,516 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:14:17,524 - utils - INFO - [api.py:get_stocks:123] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            WHERE LOWER(s.symbol) LIKE %s OR LOWER(s.name) LIKE %s
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 14:14:17,524 - utils - INFO - [api.py:get_stocks:124] - 検索パラメータ: ('%nikko%', '%nikko%')
2025-07-27 14:14:17,584 - utils - ERROR - [api.py:get_stocks:149] - 銘柄一覧取得エラー: syntax error at or near "%"
LINE 17:             WHERE LOWER(s.symbol) LIKE %s OR LOWER(s.name) L...
                                                ^
Traceback (most recent call last):
  File "C:\Dev\stock-analyzer\backend\api.py", line 132, in get_stocks
    cursor.execute(data_query)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Dev\stock-analyzer\venv\Lib\site-packages\psycopg2\extras.py", line 236, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.SyntaxError: syntax error at or near "%"
LINE 17:             WHERE LOWER(s.symbol) LIKE %s OR LOWER(s.name) L...
                                                ^

2025-07-27 14:14:17,603 - utils - INFO - [api.py:get_stocks:157] - データベース接続をクローズしました
2025-07-27 14:15:11,790 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:15:11,790 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:15:11,802 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:15:11,805 - utils - INFO - [api.py:get_stocks:123] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 14:15:11,805 - utils - INFO - [api.py:get_stocks:124] - 検索パラメータ: ()
2025-07-27 14:15:11,928 - utils - INFO - [api.py:get_stocks:136] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 14:15:11,931 - utils - INFO - [api.py:get_stocks:137] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:15:11,932 - utils - INFO - [api.py:get_stocks:139] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:15:11,932 - utils - INFO - [api.py:get_stocks:157] - データベース接続をクローズしました
2025-07-27 14:15:11,934 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:15:11,934 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:15:11,966 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:15:11,968 - utils - INFO - [api.py:get_stocks:123] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 14:15:11,968 - utils - INFO - [api.py:get_stocks:124] - 検索パラメータ: ()
2025-07-27 14:15:12,090 - utils - INFO - [api.py:get_stocks:136] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 14:15:12,095 - utils - INFO - [api.py:get_stocks:137] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:15:12,095 - utils - INFO - [api.py:get_stocks:139] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:15:12,096 - utils - INFO - [api.py:get_stocks:157] - データベース接続をクローズしました
2025-07-27 14:15:18,165 - utils - INFO - [api.py:get_chart:163] - 受信リクエスト: GET /chart/1301.T
2025-07-27 14:15:18,166 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:15:18,185 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:15:18,197 - utils - INFO - [api.py:get_chart:188] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  3340.6700  3363.6772  3317.6626  3363.6772   15900
1   2022-07-28 15:00:00+00:00  3368.2786  3368.2786  3313.0608  3331.4668   16900
2   2022-07-31 15:00:00+00:00  3340.6700  3359.0760  3326.8657  3359.0760   10600
3   2022-08-01 15:00:00+00:00  3359.0760  3359.0760  3322.2642  3326.8657    9200
4   2022-08-02 15:00:00+00:00  3313.0610  3313.0610  3285.4521  3290.0537   10600
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  4615.0000  4625.0000  4555.0000  4555.0000   17800
730 2025-07-21 15:00:00+00:00  4575.0000  4600.0000  4555.0000  4560.0000   18000
731 2025-07-22 15:00:00+00:00  4595.0000  4595.0000  4535.0000  4585.0000   38900
732 2025-07-23 15:00:00+00:00  4590.0000  4635.0000  4575.0000  4625.0000   23100
733 2025-07-24 15:00:00+00:00  4640.0000  4830.0000  4640.0000  4785.0000   78300

[734 rows x 6 columns]
2025-07-27 14:15:24,885 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=Kyokuyo
2025-07-27 14:15:24,886 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:15:24,896 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:15:24,898 - utils - INFO - [api.py:get_stocks:123] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            WHERE LOWER(s.symbol) LIKE %s OR LOWER(s.name) LIKE %s
            ORDER BY s.symbol
            LIMIT 20 OFFSET 0
        
2025-07-27 14:15:24,898 - utils - INFO - [api.py:get_stocks:124] - 検索パラメータ: ('%kyokuyo%', '%kyokuyo%')
2025-07-27 14:15:24,953 - utils - ERROR - [api.py:get_stocks:149] - 銘柄一覧取得エラー: syntax error at or near "%"
LINE 17:             WHERE LOWER(s.symbol) LIKE %s OR LOWER(s.name) L...
                                                ^
Traceback (most recent call last):
  File "C:\Dev\stock-analyzer\backend\api.py", line 132, in get_stocks
    cursor.execute(data_query)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Dev\stock-analyzer\venv\Lib\site-packages\psycopg2\extras.py", line 236, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.SyntaxError: syntax error at or near "%"
LINE 17:             WHERE LOWER(s.symbol) LIKE %s OR LOWER(s.name) L...
                                                ^

2025-07-27 14:15:24,954 - utils - INFO - [api.py:get_stocks:157] - データベース接続をクローズしました
2025-07-27 14:19:53,422 - utils - INFO - [api.py:<module>:47] - CORSミドルウェアが設定されました: すべてのオリジンを許可
2025-07-27 14:20:03,568 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:20:03,568 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:20:03,593 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:20:03,596 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:20:03,596 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ()
2025-07-27 14:20:03,667 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 14:20:03,672 - utils - INFO - [api.py:get_stocks:139] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:20:03,673 - utils - INFO - [api.py:get_stocks:141] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:20:03,673 - utils - INFO - [api.py:get_stocks:159] - データベース接続をクローズしました
2025-07-27 14:20:03,675 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:20:03,675 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:20:03,706 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:20:03,708 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:20:03,708 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ()
2025-07-27 14:20:03,779 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 14:20:03,784 - utils - INFO - [api.py:get_stocks:139] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:20:03,784 - utils - INFO - [api.py:get_stocks:141] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:20:03,784 - utils - INFO - [api.py:get_stocks:159] - データベース接続をクローズしました
2025-07-27 14:20:07,870 - utils - INFO - [api.py:get_chart:165] - 受信リクエスト: GET /chart/1301.T
2025-07-27 14:20:07,870 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:20:07,896 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:20:07,907 - utils - INFO - [api.py:get_chart:190] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  3340.6700  3363.6772  3317.6626  3363.6772   15900
1   2022-07-28 15:00:00+00:00  3368.2786  3368.2786  3313.0608  3331.4668   16900
2   2022-07-31 15:00:00+00:00  3340.6700  3359.0760  3326.8657  3359.0760   10600
3   2022-08-01 15:00:00+00:00  3359.0760  3359.0760  3322.2642  3326.8657    9200
4   2022-08-02 15:00:00+00:00  3313.0610  3313.0610  3285.4521  3290.0537   10600
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  4615.0000  4625.0000  4555.0000  4555.0000   17800
730 2025-07-21 15:00:00+00:00  4575.0000  4600.0000  4555.0000  4560.0000   18000
731 2025-07-22 15:00:00+00:00  4595.0000  4595.0000  4535.0000  4585.0000   38900
732 2025-07-23 15:00:00+00:00  4590.0000  4635.0000  4575.0000  4625.0000   23100
733 2025-07-24 15:00:00+00:00  4640.0000  4830.0000  4640.0000  4785.0000   78300

[734 rows x 6 columns]
2025-07-27 14:20:15,524 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=yokuyo Co., Ltd.
2025-07-27 14:20:15,525 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:20:15,554 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:20:15,556 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            WHERE LOWER(s.symbol) LIKE %s OR LOWER(s.name) LIKE %s
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:20:15,557 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ('%yokuyo co., ltd.%', '%yokuyo co., ltd.%')
2025-07-27 14:20:15,618 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ各列の要約統計量:
        symbol               name        industry golden_cross dead_cross      rsi     macd signal_line
count        1                  1               1            1          1        1        1           1
unique       1                  1               1            1          1        1        1           1
top     1301.T  Kyokuyo Co., Ltd.  Packaged Foods        False      False  66.9231  50.4712     38.1063
freq         1                  1               1            1          1        1        1           1
2025-07-27 14:20:15,621 - utils - INFO - [api.py:get_stocks:139] - 銘柄データ:
   symbol               name        industry  golden_cross  dead_cross      rsi     macd signal_line
0  1301.T  Kyokuyo Co., Ltd.  Packaged Foods         False       False  66.9231  50.4712     38.1063
2025-07-27 14:20:15,621 - utils - INFO - [api.py:get_stocks:141] - 1件の銘柄データを取得しました (ページ 1/1)
2025-07-27 14:20:15,622 - utils - INFO - [api.py:get_stocks:159] - データベース接続をクローズしました
2025-07-27 14:20:23,137 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=Pyokuyo Co., Ltd.
2025-07-27 14:20:23,138 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:20:23,148 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:20:23,150 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            WHERE LOWER(s.symbol) LIKE %s OR LOWER(s.name) LIKE %s
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:20:23,150 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ('%pyokuyo co., ltd.%', '%pyokuyo co., ltd.%')
2025-07-27 14:20:23,153 - utils - ERROR - [api.py:get_stocks:151] - 銘柄一覧取得エラー: Cannot describe a DataFrame without columns
Traceback (most recent call last):
  File "C:\Dev\stock-analyzer\backend\api.py", line 138, in get_stocks
    logger.info(f"銘柄データ各列の要約統計量:\n{df.describe()}")
                                                ~~~~~~~~~~~^^
  File "C:\Dev\stock-analyzer\venv\Lib\site-packages\pandas\core\generic.py", line 11995, in describe
    return describe_ndframe(
           ~~~~~~~~~~~~~~~~^
        obj=self,
        ^^^^^^^^^
    ...<2 lines>...
        percentiles=percentiles,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ).__finalize__(self, method="describe")
    ^
  File "C:\Dev\stock-analyzer\venv\Lib\site-packages\pandas\core\methods\describe.py", line 91, in describe_ndframe
    describer = DataFrameDescriber(
        obj=cast("DataFrame", obj),
        include=include,
        exclude=exclude,
    )
  File "C:\Dev\stock-analyzer\venv\Lib\site-packages\pandas\core\methods\describe.py", line 162, in __init__
    raise ValueError("Cannot describe a DataFrame without columns")
ValueError: Cannot describe a DataFrame without columns
2025-07-27 14:20:23,190 - utils - INFO - [api.py:get_stocks:159] - データベース接続をクローズしました
2025-07-27 14:22:14,256 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:22:14,256 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:22:14,267 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:22:14,269 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:22:14,269 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ()
2025-07-27 14:22:14,336 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 14:22:14,339 - utils - INFO - [api.py:get_stocks:139] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:22:14,340 - utils - INFO - [api.py:get_stocks:141] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:22:14,340 - utils - INFO - [api.py:get_stocks:159] - データベース接続をクローズしました
2025-07-27 14:22:14,343 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:22:14,343 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:22:14,353 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:22:14,355 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:22:14,356 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ()
2025-07-27 14:22:14,421 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ各列の要約統計量:
        symbol               name industry golden_cross dead_cross      rsi     macd signal_line
count       20                 20       20           20         20       19       20          20
unique      20                 20        8            1          1       19       20          20
top     1301.T  Kyokuyo Co., Ltd.                 False      False  66.9231  50.4712     38.1063
freq         1                  1       12           20         20        1        1           1
2025-07-27 14:22:14,425 - utils - INFO - [api.py:get_stocks:139] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:22:14,426 - utils - INFO - [api.py:get_stocks:141] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:22:14,426 - utils - INFO - [api.py:get_stocks:159] - データベース接続をクローズしました
2025-07-27 14:22:33,003 - utils - INFO - [api.py:<module>:47] - CORSミドルウェアが設定されました: すべてのオリジンを許可
2025-07-27 14:22:46,953 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:22:46,954 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:22:46,977 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:22:46,980 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:22:46,980 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ()
2025-07-27 14:22:47,050 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:22:47,051 - utils - INFO - [api.py:get_stocks:140] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:22:47,051 - utils - INFO - [api.py:get_stocks:158] - データベース接続をクローズしました
2025-07-27 14:22:47,053 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:22:47,053 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:22:47,074 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:22:47,076 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:22:47,077 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ()
2025-07-27 14:22:47,146 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:22:47,147 - utils - INFO - [api.py:get_stocks:140] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:22:47,147 - utils - INFO - [api.py:get_stocks:158] - データベース接続をクローズしました
2025-07-27 14:22:54,734 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=k
2025-07-27 14:22:54,735 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:22:54,746 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:22:54,748 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            WHERE LOWER(s.symbol) LIKE %s OR LOWER(s.name) LIKE %s
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:22:54,749 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ('%k%', '%k%')
2025-07-27 14:22:54,813 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ:
    symbol                                              name  ...      macd  signal_line
0   1301.T                                 Kyokuyo Co., Ltd.  ...   50.4712      38.1063
1   1308.T            Nikko Exchange Traded Index Fund TOPIX  ...   38.5959      25.0341
2   1319.T  NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...    6.6639       4.4082
3   1320.T         iFreeETF Nikkei225 (Yearly Dividend Type)  ...  658.8843     514.0663
4   1330.T              Nikko Exchange Traded Index Fund 225  ...  671.1416     527.7553
5   1757.T                              Souken Ace Co., Ltd.  ...   -1.5323      -1.6301
6   1835.T                           Totetsu Kogyo Co., Ltd.  ...   99.5051     109.9019
7   1972.T                  Sanko Metal Industrial Co., Ltd.  ...  215.8824     187.8402
8   2340.T                     Gokurakuyu Holdings Co., Ltd.  ...    0.1706      -0.1829
9   2503.T                   Kirin Holdings Company, Limited  ...   -6.9434      -9.2594
10  3377.T                             BIKE O & COMPANY Ltd.  ...   -1.4627      -0.8264
11  3611.T                              Matsuoka Corporation  ...    4.5984       3.5850
12  4170.T                             Kaizen Platform, Inc.  ...    4.4737       4.4955
13  4246.T                       DaikyoNishikawa Corporation  ...   17.3490      14.0597
14  4436.T                        MINKABU THE INFONOID, Inc.  ...   -3.8650      -3.5246
15  4597.T                               Solasia Pharma K.K.  ...    2.4116       2.2183
16  5015.T                                   BP Castrol K.K.  ...   -0.3506       0.1927
17  5189.T                           Sakura Rubber Co., Ltd.  ...   21.3983      19.2826
18  5252.T                           Nihon Knowledge Co,Ltd.  ...    3.1222       4.9428
19  6231.T                             KIMURA KOHKI Co.,Ltd.  ...   54.3625     119.4401

[20 rows x 8 columns]
2025-07-27 14:22:54,813 - utils - INFO - [api.py:get_stocks:140] - 20件の銘柄データを取得しました (ページ 1/2)
2025-07-27 14:22:54,813 - utils - INFO - [api.py:get_stocks:158] - データベース接続をクローズしました
2025-07-27 14:22:55,062 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=ky
2025-07-27 14:22:55,063 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:22:55,095 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:22:55,098 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            WHERE LOWER(s.symbol) LIKE %s OR LOWER(s.name) LIKE %s
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:22:55,098 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ('%ky%', '%ky%')
2025-07-27 14:22:55,162 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ:
   symbol                              name                     industry  ...      rsi     macd signal_line
0  1301.T                 Kyokuyo Co., Ltd.               Packaged Foods  ...  66.9231  50.4712     38.1063
1  4246.T       DaikyoNishikawa Corporation                   Auto Parts  ...  72.8070  17.3490     14.0597
2  7815.T  Tokyo Board Industries Co., Ltd.     Lumber & Wood Production  ...  52.1739   4.3365      5.4057
3  7914.T          Kyodo Printing Co., Ltd.  Specialty Business Services  ...  73.4568  19.7453     16.1862
4  8070.T            Tokyo Sangyo Co., Ltd.                Conglomerates  ...  64.4068   9.7595      6.4526
5  8399.T      Bank of The Ryukyus, Limited             Banks - Regional  ...  74.0506  24.2741     20.2229

[6 rows x 8 columns]
2025-07-27 14:22:55,162 - utils - INFO - [api.py:get_stocks:140] - 6件の銘柄データを取得しました (ページ 1/1)
2025-07-27 14:22:55,162 - utils - INFO - [api.py:get_stocks:158] - データベース接続をクローズしました
2025-07-27 14:23:01,710 - utils - INFO - [api.py:get_chart:164] - 受信リクエスト: GET /chart/1301.T
2025-07-27 14:23:01,710 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:23:01,721 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:23:01,736 - utils - INFO - [api.py:get_chart:189] - チャートデータ:
                         date       open       high        low      close  volume
0   2022-07-27 15:00:00+00:00  3340.6700  3363.6772  3317.6626  3363.6772   15900
1   2022-07-28 15:00:00+00:00  3368.2786  3368.2786  3313.0608  3331.4668   16900
2   2022-07-31 15:00:00+00:00  3340.6700  3359.0760  3326.8657  3359.0760   10600
3   2022-08-01 15:00:00+00:00  3359.0760  3359.0760  3322.2642  3326.8657    9200
4   2022-08-02 15:00:00+00:00  3313.0610  3313.0610  3285.4521  3290.0537   10600
..                        ...        ...        ...        ...        ...     ...
729 2025-07-17 15:00:00+00:00  4615.0000  4625.0000  4555.0000  4555.0000   17800
730 2025-07-21 15:00:00+00:00  4575.0000  4600.0000  4555.0000  4560.0000   18000
731 2025-07-22 15:00:00+00:00  4595.0000  4595.0000  4535.0000  4585.0000   38900
732 2025-07-23 15:00:00+00:00  4590.0000  4635.0000  4575.0000  4625.0000   23100
733 2025-07-24 15:00:00+00:00  4640.0000  4830.0000  4640.0000  4785.0000   78300

[734 rows x 6 columns]
2025-07-27 14:23:12,375 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:23:12,375 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:23:12,404 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:23:12,406 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:23:12,406 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ()
2025-07-27 14:23:12,468 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:23:12,468 - utils - INFO - [api.py:get_stocks:140] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:23:12,469 - utils - INFO - [api.py:get_stocks:158] - データベース接続をクローズしました
2025-07-27 14:23:12,471 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:23:12,471 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:23:12,481 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:23:12,483 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:23:12,483 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ()
2025-07-27 14:23:12,550 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:23:12,551 - utils - INFO - [api.py:get_stocks:140] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:23:12,551 - utils - INFO - [api.py:get_stocks:158] - データベース接続をクローズしました
2025-07-27 14:23:15,426 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=3&limit=20&search=
2025-07-27 14:23:15,426 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:23:15,456 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:23:15,459 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:23:15,459 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ()
2025-07-27 14:23:15,524 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ:
    symbol                                             name  ...       macd  signal_line
0   381A.T  iFreeETF US Treasury Bond 3-5 Year (NON HEDGED)  ...     8.2518       6.2154
1   3922.T                             PR TIMES Corporation  ...   160.0002     126.9985
2   3961.T                  Silver Egg Technology Co., Ltd.  ...    -0.3663      -0.9292
3   3992.T                                  Needs Well Inc.  ...     4.2646      -2.7752
4   4170.T                            Kaizen Platform, Inc.  ...     4.4737       4.4955
5   4178.T                         Sharing Innovations Inc.  ...     2.7750       3.3226
6   4246.T                      DaikyoNishikawa Corporation  ...    17.3490      14.0597
7   4264.T                                     Secure, Inc.  ...    -9.1282     -20.5591
8   4274.T                Hosoya Pyro-Engineering Co., Ltd.  ...    -3.9401      -5.0663
9   4324.T                                Dentsu Group Inc.  ...   -23.8547     -31.3325
10  4436.T                       MINKABU THE INFONOID, Inc.  ...    -3.8650      -3.5246
11  4534.T                 Mochida Pharmaceutical Co., Ltd.  ...    20.1065       3.3129
12  4597.T                              Solasia Pharma K.K.  ...     2.4116       2.2183
13  5015.T                                  BP Castrol K.K.  ...    -0.3506       0.1927
14  5071.T                                    VIS Co., Ltd.  ...    11.1304       7.5649
15  5132.T                                   pluszero, Inc.  ...   -63.8709     -52.9713
16  5189.T                          Sakura Rubber Co., Ltd.  ...    21.3983      19.2826
17  5252.T                          Nihon Knowledge Co,Ltd.  ...     3.1222       4.9428
18  5571.T                        Excite Holdings Co., Ltd.  ...    27.5542      23.2936
19  6026.T                                   GMO TECH, Inc.  ...  -175.1311    -193.6701

[20 rows x 8 columns]
2025-07-27 14:23:15,524 - utils - INFO - [api.py:get_stocks:140] - 20件の銘柄データを取得しました (ページ 3/6)
2025-07-27 14:23:15,525 - utils - INFO - [api.py:get_stocks:158] - データベース接続をクローズしました
2025-07-27 14:24:15,398 - utils - INFO - [api.py:get_stocks:83] - 受信リクエスト: GET /stocks?page=1&limit=20&search=
2025-07-27 14:24:15,399 - utils - INFO - [api.py:get_db_connection:64] - データベース接続を試行します: {'dbname': 'stock_analyzer', 'user': 'stock_user', 'password': '******', 'host': 'localhost', 'port': '5432'}
2025-07-27 14:24:15,410 - utils - INFO - [api.py:get_db_connection:68] - データベース接続成功: stock_analyzer@localhost:5432
2025-07-27 14:24:15,412 - utils - INFO - [api.py:get_stocks:126] - クエリを実行します: 
            SELECT 
                s.symbol, 
                s.name, 
                s.industry,
                ti.golden_cross,
                ti.dead_cross,
                ti.rsi,
                ti.macd,
                ti.signal_line
            FROM stocks s
            LEFT JOIN (
                SELECT DISTINCT ON (symbol) *
                FROM technical_indicators
                ORDER BY symbol, date DESC
            ) ti ON s.symbol = ti.symbol
            
            ORDER BY s.symbol
            LIMIT %s OFFSET %s
        
2025-07-27 14:24:15,413 - utils - INFO - [api.py:get_stocks:127] - 検索パラメータ: ()
2025-07-27 14:24:15,478 - utils - INFO - [api.py:get_stocks:138] - 銘柄データ:
    symbol                                               name  ...       macd  signal_line
0   1301.T                                  Kyokuyo Co., Ltd.  ...    50.4712      38.1063
1   1305.T              iFreeETF TOPIX (Yearly Dividend Type)  ...    38.4821      24.7051
2   1306.T              NEXT FUNDS TOPIX Exchange Traded Fund  ...    38.5558      24.7335
3   1308.T             Nikko Exchange Traded Index Fund TOPIX  ...    38.5959      25.0341
4   1309.T  NEXT FUNDS ChinaAMC SSE50 Index Exchange Trade...  ...   767.4815     676.5489
5   130A.T                                  Ｖｅｒｉｔａｓ　Ｉｎ　Ｓｉｌｉｃｏ  ...     0.2772      -1.5570
6   1311.T      NEXT FUNDS TOPIX Core 30 Exchange Traded Fund  ...    21.5434      11.6175
7   1319.T   NEXT FUNDS Nikkei 300 Index Exchange Traded Fund  ...     6.6639       4.4082
8   131A.T                                            ＣＣＮグループ  ...     0.0363       0.0533
9   1320.T          iFreeETF Nikkei225 (Yearly Dividend Type)  ...   658.8843     514.0663
10  1330.T               Nikko Exchange Traded Index Fund 225  ...   671.1416     527.7553
11  148A.T                                            ハッチ・ワーク  ...    42.5622      31.8332
12  150A.T                                                ＪＳＨ  ...   -11.2916     -12.3952
13  1566.T                    Listed Index Fund Emerging Bond  ...   440.1158     455.4455
14  1573.T                           China Bear -1x HSCEI ETF  ...   -91.4731     -55.2384
15  1757.T                               Souken Ace Co., Ltd.  ...    -1.5323      -1.6301
16  181A.T     MAXIS US Treasury Bond 1-3 Year ETF (Unhedged)  ...     2.9299       2.2029
17  1835.T                            Totetsu Kogyo Co., Ltd.  ...    99.5051     109.9019
18  1972.T                   Sanko Metal Industrial Co., Ltd.  ...   215.8824     187.8402
19  2160.T                                     GNI Group Ltd.  ...  -137.5830    -111.6464

[20 rows x 8 columns]
2025-07-27 14:24:15,478 - utils - INFO - [api.py:get_stocks:140] - 20件の銘柄データを取得しました (ページ 1/6)
2025-07-27 14:24:15,479 - utils - INFO - [api.py:get_stocks:158] - データベース接続をクローズしました
2025-07-27 14:27:17,345 - utils - INFO - [api.py:<module>:47] - CORSミドルウェアが設定されました: すべてのオリジンを許可
