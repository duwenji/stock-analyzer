# アクティブコンテキスト

## プロジェクト
株式分析システム

## 現在の作業
- プロトタイプの安定化と改善
- 日本語フォント表示問題の解決
- レポート自動更新システムの設計
- AIエージェントシステムの設計
  - Evaluator-Optimizerワークフローの実装
  - DeepSeek API統合の完成

## 直近の変更
- stock_analyzer.py: Evaluator-Optimizerワークフローの統合
- report_generator.py: AI推奨表示機能の追加
- evaluator_optimizer.py: 株式分析用Evaluator-Optimizerの実装
- deepseek_augmented.py: DeepSeek LLMラッパーの実装
- .env.example: APIキー設定テンプレートの追加

## 次のステップ
1. Evaluator-Optimizerワークフローのテストと調整
2. レポートのAI推奨表示の改善
3. タスクスケジューラによる定期実行機能の実装
4. 新しいテクニカル指標（MACD）の追加
5. レポートテンプレートのカスタマイズ機能開発

## 検討事項
- データ更新戦略（リアルタイム vs バッチ）
- 追加データソースの統合（Alpha Vantageなど）
- クラウドストレージへのバックアップ実装

## 重要な決定
- 本番環境DBとしてPostgreSQLを継続採用
- Yahoo Finance APIを主要データソースとして維持
- 対象銘柄を拡大（任天堂(7974.T)を追加予定）

## 学習事項
- Matplotlibの詳細なカスタマイズ方法
- PostgreSQLのバックアップと復旧戦略
- pandasを使った大規模データ処理の最適化
- テクニカル指標計算の数学的基礎
- Windows環境での依存関係管理のベストプラクティス

## 2025-07-27
### 課題
- フロントエンドの株式一覧テーブルが中央寄せにならない問題（修正済み）
- バックエンドAPIエンドポイントがハードコードされている問題
- ストラテジーパターンが完全に実装されていない問題

### 次のアクション
1. APIエンドポイントの環境変数化
2. ストラテジーパターンの完全実装

## 2025-08-03
### 実施した変更
1. バックエンドロガー設定の統一化
   - ロガー名を柔軟に指定可能に
   - ログレベルをDEBUGに変更
   - 全モジュールで一貫した設定を適用

2. DeepSeek推奨ロジックの改善
   - クエリの最適化
   - フィルタリング条件の修正
   - データ取得時のLIMITパラメータ追加

3. GitHub変更管理プロセスの確立
   - 変更内容のサマライズ方法
   - 適切なコミットメッセージの作成
   - 変更のプッシュ手順

### 標準化されたGitHub保存手順
1. 変更内容を確認 (`git status`, `git diff`)
2. 変更をステージング (`git add .`)
3. 適切なコミットメッセージでコミット
4. メモリバンクを更新
5. 変更をプッシュ (`git push origin main`)

### 次のアクション
1. この変更管理プロセスを全ての機能開発に適用
2. メモリバンクの自動更新スクリプト作成
