# システムパターン

## アーキテクチャ概要
- スクリプトベースのデータ処理パイプライン
- モジュール型アーキテクチャ（各機能が独立したスクリプト）
- バッチ処理による定期実行

## 主要コンポーネント
1. データ取得モジュール（stock_data_importer.py）
   - Yahoo Finance APIからのデータ取得
   - データの正規化とクリーニング
2. 分析エンジン（stock_analyzer.py）
   - テクニカル指標の計算（移動平均線、RSIなど）
   - 銘柄間の相関分析
3. レポートジェネレータ
   - Matplotlibを使用した可視化
   - PNG/PDF形式でのレポート出力
4. データ管理層
- PostgreSQLデータベースへの保存
   - データのバックアップと復旧

## 設計パターン
- パイプラインパターン
  - データ取得 → 処理 → 出力の明確な分離
- ファサードパターン
  - 複雑な分析処理の簡易インターフェース提供
- ストラテジーパターン
  - 分析アルゴリズムの交換可能な実装

## データフロー
1. データ取得モジュールがAPIから株価データを取得
2. 取得データをPostgreSQLデータベースに保存
3. 分析エンジンがデータを処理し指標を計算
4. レポートジェネレータが結果を可視化
5. レポートをファイルシステムに保存

## 拡張ポイント
- 新しい分析指標の追加
- 追加データソースの統合
- 出力フォーマットの拡張（CSV、Excelなど）
